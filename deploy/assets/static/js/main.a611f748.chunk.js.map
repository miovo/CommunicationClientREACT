{"version":3,"sources":["lib/common.js","components/CallDialpadComponents.js","components/CommonComponents.js","components/ChannelSwitcher.js","helpers.js","components/MsgContactList.js","components/MsgContactAdd.js","components/Spinner.js","components/MsgList.js","components/MsgComposer.js","components/MsgContactHeader.js","components/MsgCanvas.js","components/CallDialpad.js","components/CallCanvas.js","components/ChannelContent.js","components/AuthForm.js","components/PhoneClient.js","App.js","serviceWorker.js","index.js"],"names":["formParams","params","Object","keys","map","key","encodeURIComponent","join","stringify","param","msg","Error","message","constructor","JSON","String","SvgPhone","props","viewBox","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","d","fill","stroke","strokeWidth","BtnDial","styled","button","toggled","theme","colorToggled","color","dialToggled","dialActive","dial","DialRed","DialGreen","BtnDialGreen","dialGreenActive","dialGreen","BtnDialRed","dialRed","dialRedActive","ModalMessage","FullScreen","style","width","maxWidth","img","padding","div","SvgOffline","margin","SvgAuthFail","SvgAlert","BadgeTemplate","Badge","process","BadgeAfter","TabsContainer","Tabs","TabHeader","Tab","selected","Channel","span","StateIndicator","ChannelSwitcher","msgUnreadsTotal","contact","msgUnreadsCache","textAlignVertical","textAlign","selectedChannel","onClick","setChannel","bind","incomingCall","height","printTimestamp","date","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","ampm","pad2","digit","getFullYear","dateOptions","prettyDate","someDate","today","Date","isToday","yday","setDate","isYday","toLocaleString","Header","Body","BodyPreview","Author","BadgeContainer","TimeStamp","Arrow","SvgFwdArrow","xmlns","Trash","Contact","MsgContactList","channelList","sort","a","b","lastMessage","timestamp","phoneNumber","phoneNumberParsed","parsePhoneNumberFromString","formatInternational","selectContact","msgCache","length","body","replace","ContactAdd","IcoAdd","MsgContactAdd","SpinnerContainer","spin","keyframes","SpinnerIcon","SpinnerLabel","Spinner","text","MsgList","attachScrollListener","scrollAreaRef","current","state","scrollListenerAttached","addEventListener","onScroll","setState","scrollTop","canScroll","fetchAnotherPage","then","catch","messagesEndRef","React","createRef","this","removeEventListener","scrollIntoView","scrollToBottom","prevProps","undefined","messages","lastDate","selectedContact","Container","ref","StyledReactTooltip","place","effect","multiline","delayHide","delayShow","clickable","MsgCanvas","MsgListItem","sid","author","Bubble","attributes","fromNumber","data-tip","toNumber","dateCreated","numSegments","txt","split","item","Component","ReactTooltip","msgOutboundUrl","REACT_APP_RUNTIME_DOMAIN","hover_accent","chroma","darken","hex","MsgComposer","handleChange","e","msgText","target","value","resizeTextArea","handleKeyDown","keyCode","shiftKey","preventDefault","stopPropagation","handleSend","sending","normalizePhoneNumber","newPhoneNumber","to","secret","fetch","method","headers","response","status","error","updateNewPhoneNumber","msgTextRef","errText","console","err","textArea","Math","min","scrollHeight","focus","ErrorText","TextAreaContainer","TextArea","rows","autoFocus","placeholder","onChange","onKeyDown","disabled","BtnSend","IcoSend","textarea","flash","css","className","MsgContactHeader","ContactHeader","Spacer","BtnBack","back","IcoBack","InputContainer","Input","ContactName","input","CanvasMsg","fetchMsgsForContact","client","getChannelByUniqueName","channel","setAllMessagesConsumed","setUnreadsCache","Promise","resolve","reject","paginator","msgPgtrCache","hasPrevPage","prevPage","items","forEach","push","addMsgCachePage","msgAddedHandler","addMsgCacheMsg","updateLastConsumedMessageIndex","index","setUnreadMsgs","fetchTracker","getMessages","setMsgCachePage","msgAddedHandlerTracker","on","removeAllListeners","unreadsCache","Canvas","Dial","toggleOn","tid","setInterval","pressAndHold","toggleOff","clearInterval","suppressClick","dialPressed","sub","dialPress","onMouseDown","onMouseUp","Digit","Sub","Dialpad","SvgBackspace","strokeLinecap","SvgMute","Mute","Unmute","CallDialpad","callActive","muted","cursor","connectCall","log","callDisplay","setCallConnection","connect","number","getCallConnection","isMuted","setCallTypingPN","setCallNextKeyReset","setCallStartTime","timer","setTimeout","tick","now","elapsedTime","getCallStartTime","hangupCall","disconnectAll","wrapupCall","clearTimeout","toggleMute","mute","_display","getCallNextKeyReset","match","setCallDisplay","updateDisplay","charAt","substr","numberInputRef","runPressEvents","dialFakeReset","update","$set","dialFakePressed","handleKeyUp","selectionStart","ctrlKey","metaKey","altKey","includes","formatNumber","asYouType","reset","result","newValue","getCallTypingPN","focusDisplay","bindListeners","handlersSet","disconnectHandler","acceptIncomingCall","conn","accept","parameters","From","rejectIncomingCall","AsYouType","incomingRing","incomingConnection","connection","activeConnection","sendDigits","milis","setMilliseconds","getUTCHours","toISOString","selectionEnd","removeListener","prevState","Label1","Label2","IncomingDials","Display","onKeyUp","onFocus","moveCaretToEnd","onBlur","Timer","time","showTime","TimerDisplay","AltCanvas","ChannelContent","accent_light","brighten","AuthForm","handleCheckboxChange","event","checked","remember","handleSubmit","setSecret","localStorage","setItem","updateSecret","Label","type","name","defaultValue","autoComplete","display","Password","errMsg","LabelError","BtnSubmit","Unlock","LabelSmall","label","HiddenCheckbox","attrs","Icon","svg","StyledCheckbox","CheckboxContainer","Checkbox","points","TwilioChat","require","TwilioVoice","_fetchToken","accessTokenGenerator","authorized","authError","authCounter","token","displayError","initClients","callConnection","callStartTime","callNextKeyReset","callTypingPN","unread","lastConsumedMessageIndex","getMessagesCount","cnt","getUnconsumedMessagesCount","pgtrCache","$unshift","$merge","$push","getToken","decoded_token","jwt_decode","s_now","floor","s_expire","exp","getTokenActive","chatClient","voiceClient","Device","setup","codecPreferences","fakeLocalDTMF","enableRingingState","device","code","updateToken","Client","create","getSubscribedChannels","chatChannelList","i","uniqueName","$unset","updateReasons","getItem","ViewPort","StrictMode","App","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a611f748.chunk.js","sourcesContent":["function formParams(params) {\n  return Object.keys(params)\n    .map((key) => {\n      return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n    })\n    .join('&');\n}\n\nfunction stringify(param) {\n  let msg = '';\n  // Error class instance\n  if (param instanceof Error && typeof param.message !== 'undefined') {\n    msg = param.message;\n    // Object\n  } else if (\n    param &&\n    typeof param === 'object' &&\n    param.constructor === Object\n  ) {\n    msg = JSON.stringify(param);\n    // String\n  } else if (typeof param === 'string' || param instanceof String) {\n    msg = param;\n  }\n  return msg;\n}\n\nexport { formParams, stringify };\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst SvgPhone = (props) => (\n  <svg\n    viewBox=\"0 0 50 50\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={1.414}\n    {...props}\n  >\n    <path\n      d=\"M46.996 39.736c0 1.15-.511 3.387-.99 4.443-.671 1.566-2.461 2.589-3.899 3.387-1.885 1.022-3.802 1.63-5.943 1.63-2.972 0-5.658-1.215-8.374-2.205-1.949-.704-3.835-1.567-5.592-2.653-5.433-3.356-11.984-9.908-15.34-15.34-1.086-1.757-1.949-3.643-2.653-5.592C3.215 20.69 2 18.004 2 15.032c0-2.141.607-4.058 1.63-5.944.8-1.437 1.823-3.227 3.387-3.898 1.056-.479 3.291-.99 4.443-.99.223 0 .448 0 .671.096.671.223 1.374 1.79 1.693 2.43 1.023 1.822 2.013 3.676 3.068 5.465.512.831 1.471 1.853 1.471 2.845 0 1.95-5.784 4.795-5.784 6.519 0 .863.799 1.982 1.245 2.749 3.228 5.817 7.255 9.844 13.072 13.072.767.448 1.886 1.245 2.749 1.245 1.726 0 4.569-5.784 6.519-5.784.99 0 2.012.959 2.845 1.471 1.789 1.055 3.643 2.045 5.465 3.068.64.319 2.205 1.022 2.43 1.693.096.223.096.448.096.671l-.004-.004z\"\n      fill=\"#fff\"\n      fillRule=\"nonzero\"\n      stroke=\"#fff\"\n      strokeWidth={1.5}\n    />\n  </svg>\n);\n\nconst SvgHangup = (props) => (\n  <svg\n    viewBox=\"0 0 50 50\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={1.414}\n    {...props}\n  >\n    <path\n      d=\"M5.455 33.309c-.632-.633-1.581-2.145-1.898-2.989-.492-1.23-.069-2.777.283-4.007.475-1.598 1.196-2.987 2.374-4.164 1.635-1.634 3.781-2.442 5.819-3.39 1.46-.685 2.972-1.247 4.535-1.615 4.835-1.14 12.041-1.137 16.874.006 1.563.37 3.075.933 4.533 1.619 2.038.95 4.183 1.759 5.817 3.395 1.177 1.178 1.897 2.566 2.371 4.166.35 1.23.771 2.778.28 4.007-.318.844-1.267 2.354-1.901 2.987-.122.123-.246.246-.421.316-.492.246-1.74-.229-2.268-.406-1.564-.44-3.128-.916-4.692-1.32-.739-.176-1.828-.211-2.374-.757-1.072-1.073.547-5.818-.401-6.766-.475-.475-1.529-.652-2.196-.828-4.974-1.426-9.404-1.428-14.379-.006-.668.175-1.722.352-2.197.826-.949.949.666 5.695-.407 6.767-.544.544-1.634.578-2.374.754-1.564.403-3.128.878-4.693 1.317-.528.176-1.775.65-2.268.404-.175-.07-.299-.193-.422-.316h.005z\"\n      fill=\"#fff\"\n      fillRule=\"nonzero\"\n      stroke=\"#fff\"\n      strokeWidth={1.17}\n    />\n  </svg>\n);\n\nconst BtnDial = styled.button`\n  width: 20vmin;\n  height: 20vmin;\n  margin: 2vmin 3vmin 2vmin 3vmin;\n  @media (min-width: 400px) {\n    width: 80px;\n    height: 80px;\n    margin: 8px 12px 8px 12px;\n  }\n  border: none;\n  text-decoration: none;\n  display: inline-block;\n  border-radius: 50%;\n  outline: none;\n  cursor: pointer;\n  text-align: center;\n  color: ${(props) =>\n    props.toggled ? props.theme.colorToggled : props.theme.color};\n  background-color: ${(props) =>\n    props.toggled\n      ? props.theme.dialToggled\n      : props.dialActive\n      ? props.theme.dialActive\n      : props.theme.dial};\n  &:hover {\n    background-color: ${(props) => props.theme.dialActive};\n  }\n`;\n\nconst DialRed = styled(SvgHangup)`\n  height: 10vmin;\n  width: 10vmin;\n  @media (min-width: 400px) {\n    width: 40px;\n    height: 40px;\n  }\n`;\n\nconst DialGreen = styled(SvgPhone)`\n  height: 9vmin;\n  width: 9vmin;\n  @media (min-width: 400px) {\n    width: 36px;\n    height: 36px;\n  }\n`;\n\nconst BtnDialGreen = styled(BtnDial)`\n  background-color: ${(props) =>\n    props.dialActive ? props.theme.dialGreenActive : props.theme.dialGreen};\n  &:hover {\n    background-color: ${(props) => props.theme.dialGreenActive};\n  }\n`;\n\nconst BtnDialRed = styled(BtnDial)`\n  background-color: ${(props) => props.theme.dialRed};\n  &:hover {\n    background-color: ${(props) => props.theme.dialRedActive};\n  }\n`;\n\nexport {\n  BtnDial,\n  BtnDialRed,\n  BtnDialGreen,\n  DialRed,\n  DialGreen,\n  SvgPhone,\n  SvgHangup\n};\n","import React from 'react';\nimport styled from 'styled-components';\nconst iconColor = '#94979B';\n\nfunction ModalMessage(props) {\n  return (\n    <FullScreen>\n      <div\n        style={{\n          width: '50vw',\n          maxWidth: '100px'\n        }}\n      >\n        {props.img === 'auth_fail' && <SvgAuthFail />}\n        {props.img === 'offline' && <SvgOffline />}\n        {props.img === 'alert' && <SvgAlert />}\n      </div>\n      <span style={{ color: '#94979B', padding: '2vh' }}>{props.msg}</span>\n    </FullScreen>\n  );\n}\n\nconst FullScreen = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n`;\n\nconst SvgOffline = (props) => (\n  <svg\n    viewBox=\"0 0 200 147\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    margin=\"20px\"\n    strokeMiterlimit={2}\n    color={iconColor}\n    {...props}\n  >\n    <path\n      d=\"M200 106.833c0 22.087-17.92 40-40 40H46.667C20.94 146.833 0 125.893 0 100.167 0 81.52 11.04 65.373 26.873 57.98c-.106-1.46-.206-3.02-.206-4.48C26.667 24.02 50.52.167 80 .167c22.293 0 41.353 13.646 49.373 33.126 4.587-4.06 10.627-6.46 17.294-6.46 14.686 0 26.666 11.98 26.666 26.667 0 5.313-1.56 10.207-4.273 14.373 17.707 4.167 30.94 20 30.94 38.96z\"\n      fill=\"currentColor\"\n    />\n    <path\n      d=\"M140.788 113.306a6.97 6.97 0 01-2.022 4.902l-9.807 9.807a6.999 6.999 0 01-4.902 2.021c-1.8 0-3.604-.719-4.901-2.021l-21.202-21.202-21.203 21.202a6.996 6.996 0 01-4.901 2.021c-1.8 0-3.605-.719-4.902-2.021l-9.807-9.807a7 7 0 01-2.022-4.902c0-1.8.72-3.604 2.022-4.901l21.202-21.203L57.141 66a7 7 0 01-2.022-4.902c0-1.799.72-3.604 2.022-4.901l9.807-9.807a7 7 0 014.902-2.022c1.8 0 3.604.72 4.901 2.022l21.203 21.202 21.202-21.202a6.997 6.997 0 014.901-2.022c1.8 0 3.605.72 4.902 2.022l9.807 9.807a7 7 0 012.022 4.901c0 1.8-.72 3.605-2.022 4.902l-21.202 21.202 21.202 21.203a6.997 6.997 0 012.022 4.901z\"\n      fill=\"currentColor\"\n    />\n    <path\n      d=\"M140.788 113.306a6.97 6.97 0 01-2.022 4.902l-9.807 9.807a6.999 6.999 0 01-4.902 2.021c-1.8 0-3.604-.719-4.901-2.021l-21.202-21.202-21.203 21.202a6.996 6.996 0 01-4.901 2.021c-1.8 0-3.605-.719-4.902-2.021l-9.807-9.807a7 7 0 01-2.022-4.902c0-1.8.72-3.604 2.022-4.901l21.202-21.203L57.141 66a7 7 0 01-2.022-4.902c0-1.799.72-3.604 2.022-4.901l9.807-9.807a7 7 0 014.902-2.022c1.8 0 3.604.72 4.901 2.022l21.203 21.202 21.202-21.202a6.997 6.997 0 014.901-2.022c1.8 0 3.605.72 4.902 2.022l9.807 9.807a7 7 0 012.022 4.901c0 1.8-.72 3.605-2.022 4.902l-21.202 21.202 21.202 21.203a6.997 6.997 0 012.022 4.901z\"\n      fill=\"#fff\"\n    />\n  </svg>\n);\n\nconst SvgAuthFail = (props) => (\n  <svg\n    viewBox=\"0 0 200 200\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={2}\n    color={iconColor}\n    {...props}\n  >\n    <path\n      d=\"M63.636 90.909h72.728V63.636c0-20.027-16.337-36.363-36.364-36.363-20.027 0-36.364 16.336-36.364 36.363v27.273zm118.182 13.636v81.819c0 7.527-6.109 13.636-13.636 13.636H31.818c-7.527 0-13.636-6.109-13.636-13.636v-81.819c0-7.527 6.109-13.636 13.636-13.636h4.546V63.636C36.364 28.691 65.055 0 100 0c34.945 0 63.636 28.691 63.636 63.636v27.273h4.546c7.527 0 13.636 6.109 13.636 13.636z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n    <path\n      d=\"M142.834 173.306c0 1.805-.72 3.605-2.021 4.902l-9.808 9.807a6.996 6.996 0 01-4.901 2.021c-1.8 0-3.605-.719-4.902-2.021L100 166.813l-21.202 21.202a6.999 6.999 0 01-4.902 2.021c-1.8 0-3.604-.719-4.901-2.021l-9.808-9.807a6.999 6.999 0 01-2.021-4.902c0-1.8.72-3.604 2.021-4.901l21.203-21.203L59.187 126a6.999 6.999 0 01-2.021-4.902c0-1.799.72-3.604 2.021-4.901l9.808-9.807a6.997 6.997 0 014.901-2.022c1.8 0 3.605.72 4.902 2.022L100 127.592l21.202-21.202a7 7 0 014.902-2.022c1.8 0 3.604.72 4.901 2.022l9.808 9.807a6.998 6.998 0 012.021 4.901c0 1.8-.72 3.605-2.021 4.902l-21.203 21.202 21.203 21.203a6.996 6.996 0 012.021 4.901z\"\n      fill=\"#fff\"\n    />\n  </svg>\n);\n\nconst SvgAlert = (props) => (\n  <svg\n    viewBox=\"0 0 200 190\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={2}\n    color={iconColor}\n    {...props}\n  >\n    <path\n      d=\"M114.288 157.74v-21.21c0-2.007-1.564-3.686-3.571-3.686H89.286c-2.007 0-3.572 1.672-3.572 3.686v21.21c0 2.007 1.565 3.686 3.572 3.686h21.431c2.007 0 3.571-1.672 3.571-3.686zm-.221-41.74l2.007-51.234c0-.671-.335-1.564-1.114-2.122-.672-.557-1.672-1.228-2.679-1.228H87.729c-1.008 0-2.008.671-2.679 1.228-.779.558-1.115 1.672-1.115 2.344L85.836 116c0 1.45 1.671 2.564 3.793 2.564h20.652c2.007 0 3.686-1.114 3.793-2.564h-.007zm-1.564-104.254l85.722 157.159c2.458 4.35 2.343 9.708-.221 14.066a14.28 14.28 0 01-12.28 7.029H14.278c-5.021 0-9.708-2.679-12.279-7.029-2.572-4.351-2.679-9.708-.222-14.066L87.5 11.746a14.203 14.203 0 0112.501-7.479c5.244 0 10.044 2.9 12.502 7.479z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n\nconst BadgeTemplate = styled.div`\n  border-radius: 2em;\n  color: white;\n  min-width: 1.5em;\n  font-weight: bold;\n  line-height: 0.75em;\n`;\n\nconst Badge = styled(BadgeTemplate)`\n  position: absolute;\n  right: -30%;\n  top: 10%;\n  font-size: 100%;\n  padding: 0.4em;\n  background: ${process.env.REACT_APP_ACCENT_COLOR};\n  text-align: center;\n  min-width: 1.5em;\n  font-weight: bold;\n`;\n\nconst BadgeAfter = styled(BadgeTemplate)`\n  position: relative;\n  font-size: 75%;\n  width: 10px;\n  padding: 0.4em 0.3em;\n  border-radius: 2em;\n  background: ${process.env.REACT_APP_ACCENT_COLOR};\n  text-align: center;\n`;\n\nexport { ModalMessage, FullScreen, Badge, BadgeAfter };\n","import React from 'react';\nimport styled from 'styled-components';\nimport { SvgPhone } from './CallDialpadComponents';\nimport { Badge } from './CommonComponents';\n\n\nfunction ChannelSwitcher(props) {\n  let msgUnreadsTotal = 0;\n  for (const contact in props.msgUnreadsCache) {\n    msgUnreadsTotal += props.msgUnreadsCache[contact];\n  }\n  return (\n    <><div style={{textAlignVertical: \"center\",textAlign: \"center\",}}>\n      <h1>Communication Client</h1>\n      <p>For use of SMS communications and OUTBOUND calls</p>\n    </div><TabsContainer>\n        <Tabs>\n          <TabHeader>\n            <Tab\n              selected={props.selectedChannel === 'sms' ? true : false}\n              onClick={props.setChannel.bind(null, 'sms')}\n            >\n              {msgUnreadsTotal > 0 && <Badge>{msgUnreadsTotal}</Badge>}\n              <Channel>message</Channel>\n            </Tab>\n            <StateIndicator\n              selected={props.selectedChannel === 'sms' ? true : false} />\n          </TabHeader>\n          <TabHeader>\n            <Tab\n              selected={props.selectedChannel === 'call' ? true : false}\n              onClick={props.setChannel.bind(null, 'call')}\n            >\n              {props.incomingCall !== null && ( // ToDo: replace with proper indicator of any (not just incoming) call in progress\n                <Badge>\n                  <SvgPhone style={{ height: '0.75em' }} />\n                </Badge>\n              )}\n              <Channel>phone</Channel>\n            </Tab>\n            <StateIndicator\n              selected={props.selectedChannel === 'call' ? true : false} />\n          </TabHeader>\n        </Tabs>\n      </TabsContainer></>\n  );\n}\n\nconst TabsContainer = styled.div`\n  flex-grow: 0;\n  flex-basis: 2.3em;\n\n  height: 2.3em;\n  width: 100%;\n  z-index: 9999;\n  background: #ffffff;\n`;\n\nconst Tabs = styled.div`\n  display: flex;\n  margin-left: 12px;\n  margin-right: 12px;\n  border-style: solid;\n  border-width: 0px 0px 1px;\n  border-color: rgb(198, 202, 215);\n  padding: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  -webkit-font-smoothing: antialiased;\n`;\n\nconst TabHeader = styled.div`\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  -webkit-font-smoothing: antialiased;\n  display: flex;\n  position: relative;\n  min-width: 44px;\n  margin-right: auto;\n  margin-left: auto;\n  flex: 0 1 auto;\n`;\n\nconst Tab = styled.button`\n  outline: none;\n  -webkit-appearance: button;\n  -webkit-writing-mode: horizontal-tb !important;\n  text-rendering: auto;\n  word-spacing: normal;\n  text-indent: 0px;\n  text-shadow: none;\n  display: inline-block;\n  text-align: center;\n  align-items: flex-start;\n  box-sizing: border-box;\n  margin: 0em;\n  font: 400 11px system-ui;\n  -webkit-font-smoothing: antialiased;\n\n  color: rgb(34, 34, 34);\n  text-transform: uppercase;\n  font-weight: ${(props) => (props.selected === true ? 'bold' : 'normal')};\n  line-height: 1.1;\n  letter-spacing: 2px;\n  cursor: pointer;\n  margin-right: auto;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-family: inherit;\n  border-width: initial;\n  border-style: none;\n  border-color: initial;\n  border-image: initial;\n  background: none;\n  transition: color 0.2s ease 0s;\n  padding: 12px;\n  overflow: hidden;\n`;\n\n\n\nconst Channel = styled.span`\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n`;\n\nconst StateIndicator = styled.div`\n  position: absolute;\n  height: 4px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  top: auto;\n  ${(props) =>\n    props.selected === true\n      ? 'background: ' + process.env.REACT_APP_ACCENT_COLOR + ';'\n      : ''}\n`;\n\nexport default ChannelSwitcher;\n","import React from 'react';\n\nfunction printTimestamp(date) {\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var ampm = hours >= 12 ? 'pm' : 'am';\n    month = month + 1;\n    hours = hours % 12;\n    hours = hours ? hours : 12; // the hour '0' should be '12'\n    minutes = minutes < 10 ? '0'+minutes : minutes;\n    var strTime = month + '/' + day + ' @ ' + hours + ':' + minutes + ' ' + ampm;\n  return strTime;\n};\n\nfunction formatBodyText(txt) {\n  return txt.split('\\n').map(function (item, key) {\n    return (\n      <span key={key}>\n        {item}\n        <br />\n      </span>\n    )\n  });\n};\n\nfunction formatBodyPreviewText(txt) {\n  return txt.replace(/\\n[\\s\\S]*/, \"...\");\n  // because pattern /.*/ is not applied over multiple lines and we want to remove all subsequent lines\n};\n\nfunction pad2(digit) {\n  return (digit < 10 ? `0${digit}` : `${digit}`);\n}\n\nfunction getDate(date) {\n  return date.getFullYear() + pad2(date.getMonth() + 1) + pad2(date.getDate());\n}\n\nconst isToday = (someDate) => {\n  const today = new Date()\n  return getDate(someDate) === getDate(today);\n}\n\nconst isYday = (someDate) => {\n  let yday = new Date();\n  yday.setDate(yday.getDate() - 1);\n  return getDate(someDate) === getDate(yday);\n}\n\nconst dateOptions = { day: 'numeric', month: 'short' };\nfunction prettyDate(someDate) {\n  if (isToday(someDate)) {\n    return \"Today\";\n  } else if (isYday(someDate)) {\n    return \"Yesterday\";\n  } else {\n    return someDate.toLocaleString('en-US', dateOptions)\n  }\n}\n\nexport { printTimestamp, formatBodyText, formatBodyPreviewText, prettyDate }","import React from 'react';\nimport styled from 'styled-components';\nimport { printTimestamp, formatBodyPreviewText } from '../helpers.js';\nimport { parsePhoneNumberFromString } from 'libphonenumber-js';\nimport { BadgeAfter } from './CommonComponents';\nconst accent = process.env.REACT_APP_ACCENT_COLOR;\n\nfunction MsgContactList(props) {\n  //const trashClick = (phoneNumber, e) => {\n  //  e.stopPropagation();\n   // if (\n   //   window.confirm(\n   //     `Are you sure you want to delete all messages to '${phoneNumber}' ?`\n    //  )\n   // )\n   //   props.deleteThread(phoneNumber);\n  //};\n\n  return (\n    <div>\n      {Object.keys(props.channelList)\n        .sort((a, b) => {\n          if (\n            props.channelList[a].lastMessage &&\n            props.channelList[b].lastMessage\n          ) {\n            return props.channelList[a].lastMessage.timestamp >\n              props.channelList[b].lastMessage.timestamp\n              ? -1\n              : 1;\n          } else {\n            return 0;\n          }\n        })\n        .map((phoneNumber) => {\n          const phoneNumberParsed = parsePhoneNumberFromString(phoneNumber)\n            ? parsePhoneNumberFromString(phoneNumber).formatInternational()\n            : phoneNumber;\n          return (\n            <Contact\n              key={phoneNumber}\n              onClick={props.selectContact.bind(null, phoneNumber)}\n            >\n              <Header>\n                <Author>{phoneNumberParsed}</Author>\n                <BadgeContainer>\n                  {props.msgUnreadsCache[phoneNumber] > 0 && (\n                    <BadgeAfter>\n                      {props.msgUnreadsCache[phoneNumber]}\n                    </BadgeAfter>\n                  )}\n                </BadgeContainer>\n                <TimeStamp>\n                  {props.channelList[phoneNumber].lastMessage\n                    ? printTimestamp(\n                        props.channelList[phoneNumber].lastMessage.timestamp\n                      )\n                    : ''}\n                </TimeStamp>\n                <Arrow>{SvgFwdArrow}</Arrow>\n              </Header>\n              <Body>\n                <BodyPreview>\n                  {props.msgCache[phoneNumber] &&\n                  props.msgCache[phoneNumber][\n                    props.msgCache[phoneNumber].length - 1\n                  ]\n                    ? formatBodyPreviewText(\n                        props.msgCache[phoneNumber][\n                          props.msgCache[phoneNumber].length - 1\n                        ].body\n                      )\n                    : '...'}\n                </BodyPreview>\n              </Body>\n            </Contact>\n          );\n        })}\n    </div>\n  );\n}\n\nconst Header = styled.div`\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: row;\n  align-items: center;\n  vertical-align: middle;\n`;\n\nconst Body = styled.div`\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: row;\n  align-items: center;\n  vertical-align: middle;\n`;\n\nconst BodyPreview = styled.div`\n  font-size: 14px;\n  margin: 4px 0 3px 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.2em;\n  max-height: 1.2em;\n  flex: 1 1 auto;\n`;\n\nconst Author = styled.div`\n  font-size: 14px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 8px;\n  font-weight: bold;\n  overflow: hidden;\n  flex: 0 1 auto;\n`;\n\nconst BadgeContainer = styled.div`\n  flex: 1 1 auto;\n`;\n\nconst TimeStamp = styled.div`\n  font-size: 12px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  flex: 0 0 auto;\n`;\n\nconst Arrow = styled.div`\n  margin-top: 0px;\n  margin-bottom: 0px;\n  flex: 0 0 auto;\n  margin-left: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n`;\n\nconst SvgFwdArrow = (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fillRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit=\"2\"\n    clipRule=\"evenodd\"\n    viewBox=\"0 0 7 12\"\n    height=\"12px\"\n    width=\"7px\"\n  >\n    <path\n      fill=\"#565b73\"\n      d=\"M1.693.296l4.722 5.17a.814.814 0 010 1.068l-4.722 5.169a.683.683 0 01-1.037 0 .939.939 0 010-1.23l3.956-4.33a.219.219 0 000-.286L.656 1.527a.94.94 0 010-1.231.704.704 0 01.518-.237c.187 0 .374.079.519.237z\"\n    ></path>\n  </svg>\n);\n\nconst SvgTrash = (props) => (\n  <svg\n    viewBox=\"0 0 192 209\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={2}\n    height=\"12px\"\n    width=\"12px\"\n    {...props}\n  >\n    <path\n      d=\"M69.792 82.474v78.125c0 2.439-1.901 4.34-4.341 4.34h-8.68c-2.439 0-4.34-1.901-4.34-4.34V82.474c0-2.439 1.901-4.34 4.34-4.34h8.68c2.44 0 4.341 1.901 4.341 4.34zm34.722 0v78.125c0 2.439-1.901 4.34-4.34 4.34h-8.681c-2.439 0-4.34-1.901-4.34-4.34V82.474c0-2.439 1.901-4.34 4.34-4.34h8.681c2.439 0 4.34 1.901 4.34 4.34zm34.722 0v78.125c0 2.439-1.901 4.34-4.34 4.34h-8.681c-2.439 0-4.34-1.901-4.34-4.34V82.474c0-2.439 1.901-4.34 4.34-4.34h8.681c2.439 0 4.34 1.901 4.34 4.34zm17.361 98.203V52.101H35.069v128.576c0 6.511 3.664 10.313 4.341 10.313h112.847c.677 0 4.34-3.802 4.34-10.313zM65.451 34.731h60.764l-6.51-15.868c-.408-.547-1.623-1.354-2.309-1.493H74.401c-.816.139-1.901.946-2.309 1.493l-6.641 15.868zm125.868 4.332v8.689c0 2.439-1.901 4.34-4.34 4.34h-13.021v128.576c0 14.922-9.765 27.665-21.701 27.665H39.41c-11.936 0-21.702-12.205-21.702-27.126V52.083H4.687c-2.439 0-4.34-1.901-4.34-4.34v-8.68c0-2.44 1.901-4.341 4.34-4.341h41.91l9.497-22.647C58.811 5.425 66.944 0 74.132 0h43.403c7.187 0 15.33 5.425 18.038 12.075l9.496 22.647h41.91c2.439 0 4.34 1.901 4.34 4.341z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n\nconst Trash = styled(SvgTrash)`\n  margin-top: 0px;\n  margin-bottom: 0px;\n  flex: 0 0 auto;\n  margin-left: 4px;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n  display: none;\n\n  &:hover {\n    color: ${accent};\n  }\n`;\n\nconst Contact = styled.div`\n  margin-left: 12px;\n  margin-right: 12px;\n\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: column;\n  padding: 0.4rem 0.5rem 0.4rem 0.5rem;\n\n  border-width: 0px 0px 1px;\n  border-top-style: solid;\n  border-right-style: solid;\n  border-bottom-style: solid;\n  border-left-style: solid;\n  border-color: rgb(198, 202, 215);\n  color: rgb(34, 34, 34);\n  background: #ffffff;\n  cursor: pointer;\n  &:hover {\n    background: #e8e8e8;\n  }\n  &:hover ${Trash} {\n    display: inline;\n  }\n`;\n\nexport default MsgContactList;\n","import React from 'react';\nimport styled from 'styled-components';\n\nfunction MsgContactAdd(props) {\n  return <ContactAdd onClick={props.selectContact.bind(null, \"new\")}>\n    {IcoAdd}<span style={{ padding: \"5px\" }}>New message</span>\n  </ContactAdd>;\n}\n\nconst ContactAdd = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  //justify-content: center;\n  height: 1.8em;\n  margin-left:12px;\n  margin-right:12px;\n  text-decoration: none !important;\n  font-size: 14px;\n  padding: 0.4rem 0.5rem 0.4rem 0.5rem;\n  color: rgb(34, 34, 34);\n  background: #FFFFFF;\n  cursor: pointer;\n  border-width: 0px 0px 1px;\n  border-top-style: solid;\n  border-right-style: solid;\n  border-bottom-style: solid;\n  border-left-style: solid;\n  border-color: rgb(198, 202, 215);\n  &:hover {\n    background: #E8E8E8;\n  }\n`;\n\nconst IcoAdd = <svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  fillRule=\"evenodd\"\n  strokeLinejoin=\"round\"\n  strokeMiterlimit=\"2\"\n  clipRule=\"evenodd\"\n  viewBox=\"0 0 20 20\"\n  height=\"14px\" width=\"14px\"\n>\n  <path\n    fill=\"#222222\"\n    stroke=\"#222222\"\n    strokeWidth=\"1\"\n    d=\"M10 .5A9.473 9.473 0 00.5 10c0 5.268 4.232 9.5 9.5 9.5s9.5-4.232 9.5-9.5S15.268.5 10 .5zm0 .864c4.75 0 8.636 3.886 8.636 8.636 0 4.75-3.886 8.636-8.636 8.636-4.75 0-8.636-3.886-8.636-8.636 0-4.75 3.886-8.636 8.636-8.636zm.432 3.886v4.318h4.318v.864h-4.318v4.318h-.864v-4.318H5.25v-.864h4.318V5.25h.864z\"\n  ></path>\n</svg>;\n\nexport default MsgContactAdd;","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nfunction Spinner(props) {\n  return <SpinnerContainer>\n    <SpinnerIcon />\n    <SpinnerLabel>{props.text}</SpinnerLabel>\n  </SpinnerContainer>\n}\n\nconst SpinnerContainer = styled.div`\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 100%;\n  color: #94979B;\n`;\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst SpinnerIcon = styled.div`\n  width: 50px;\n  height: 50px;\n  animation: ${spin} 2s linear infinite;\n  background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zOnNlcmlmPSJodHRwOi8vd3d3LnNlcmlmLmNvbS8iIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MjsiPgogICAgPHBhdGggZD0iTTE1LDBDNi43LDAgMCw2LjcgMCwxNUMwLDIzLjMgNi43LDMwIDE1LDMwQzIzLjMsMzAgMzAsMjMuMyAzMCwxNUMzMCw2LjcgMjMuMywwIDE1LDBaTTE1LDI2QzguOSwyNiA0LDIxLjEgNCwxNUM0LDguOSA4LjksNCAxNSw0QzIxLjEsNCAyNiw4LjkgMjYsMTVDMjYsMjEuMSAyMS4xLDI2IDE1LDI2Wk0yMS44LDExLjNDMjEuOCwxMyAyMC40LDE0LjQgMTguNywxNC40QzE3LDE0LjQgMTUuNiwxMyAxNS42LDExLjNDMTUuNiw5LjYgMTcsOC4yIDE4LjcsOC4yQzIwLjQsOC4yIDIxLjgsOS42IDIxLjgsMTEuM1pNMjEuOCwxOC43QzIxLjgsMjAuNCAyMC40LDIxLjggMTguNywyMS44QzE3LDIxLjggMTUuNiwyMC40IDE1LjYsMTguN0MxNS42LDE3IDE3LDE1LjYgMTguNywxNS42QzIwLjQsMTUuNiAyMS44LDE3IDIxLjgsMTguN1pNMTQuNCwxOC43QzE0LjQsMjAuNCAxMywyMS44IDExLjMsMjEuOEM5LjYsMjEuOCA4LjIsMjAuNCA4LjIsMTguN0M4LjIsMTcgOS42LDE1LjYgMTEuMywxNS42QzEzLDE1LjYgMTQuNCwxNyAxNC40LDE4LjdaTTE0LjQsMTEuM0MxNC40LDEzIDEzLDE0LjQgMTEuMywxNC40QzkuNiwxNC40IDguMiwxMyA4LjIsMTEuM0M4LjIsOS42IDkuNiw4LjIgMTEuMyw4LjJDMTMsOC4yIDE0LjQsOS42IDE0LjQsMTEuM1oiIHN0eWxlPSJmaWxsOnJnYigxNDgsMTUxLDE1NSk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+Cjwvc3ZnPgo=\");\n`;\n\nconst SpinnerLabel = styled.div`\n  margin: 8px 0 0 5px;\n`;\n\nexport default Spinner;","import React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport styled from 'styled-components';\nimport { printTimestamp, formatBodyText, prettyDate } from '../helpers';\nimport Spinner from './Spinner';\n\nexport default class MsgList extends Component {\n  constructor(props) {\n    super(props);\n    this.canScroll = true;\n    this.state = {\n      scrollListenerAttached: false\n    };\n    this.messagesEndRef = React.createRef();\n    this.scrollAreaRef = React.createRef();\n  }\n\n  componentWillUnmount() {\n    if (this.scrollAreaRef.current && this.attachScrollListener) {\n      this.scrollAreaRef.current.removeEventListener('scroll', this.onScroll);\n      this.setState({ scrollListenerAttached: false });\n    }\n  }\n\n  // since newest messages are at the bottom, scroll there by default\n  scrollToBottom() {\n    if (this.messagesEndRef.current) {\n      this.messagesEndRef.current.scrollIntoView();\n    }\n  }\n\n  attachScrollListener = () => {\n    if (this.scrollAreaRef.current && !this.state.scrollListenerAttached) {\n      this.scrollAreaRef.current.addEventListener('scroll', this.onScroll);\n      this.setState({ scrollListenerAttached: true });\n    }\n  };\n\n  onScroll = () => {\n    /*\n     * this.scrollAreaRef.current.scrollTop - current position\n     * this.scrollAreaRef.current.scrollHeight - height of element's content (including overflows)\n     * this.scrollAreaRef.current.offsetHeight - height of element's viewport\n     */\n    if (this.scrollAreaRef.current.scrollTop < 250 && this.canScroll) {\n      this.canScroll = false;\n      this.props\n        .fetchAnotherPage()\n        .then(() => {\n          this.canScroll = true;\n        })\n        .catch(() => {});\n    }\n  };\n\n  componentDidMount() {\n    this.attachScrollListener();\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.attachScrollListener();\n    // scroll to the bottom on:\n    if (\n      // the 1st load\n      (prevProps.messages === undefined && this.props.messages !== undefined) ||\n      // or when new message was added (last messages are not the same)\n      (prevProps.messages &&\n        this.props.messages &&\n        prevProps.messages[prevProps.messages.length - 1] !==\n          this.props.messages[this.props.messages.length - 1])\n    ) {\n      this.scrollToBottom();\n    }\n  }\n\n  render() {\n    let lastDate = null;\n    if (this.props.selectedContact === 'new') {\n      return <Container></Container>;\n    } else if (this.props.messages === undefined) {\n      return (\n        <Container>\n          <Spinner text=\"Loading messages...\" />\n        </Container>\n      );\n    } else {\n      return (\n        <Container key=\"msgListCont\" ref={this.scrollAreaRef}>\n          <StyledReactTooltip\n            key=\"tooltip\"\n            place=\"left\"\n            effect=\"solid\"\n            multiline={true}\n            delayHide={500}\n            delayShow={500}\n            clickable={true}\n          />\n          <MsgCanvas key=\"msgCanvas\">\n            {this.props.messages.map((msg) => {\n              return [\n                lastDate === prettyDate(msg.timestamp) ? null : (\n                  <Date key={msg.timestamp}>\n                    {(lastDate = prettyDate(msg.timestamp))}\n                  </Date>\n                ),\n                <MsgListItem key={msg.sid} author={msg.author}>\n                  <Bubble author={msg.author}>\n                    <Header key=\"header\">\n                      <Author key=\"author\">{msg.attributes.fromNumber}</Author>\n                      <TimeStamp\n                        key=\"timestamp\"\n                        data-tip={\n                          (msg.attributes.sid\n                            ? msg.attributes.sid + '<br />'\n                            : '') +\n                          (msg.attributes.fromNumber\n                            ? 'From: ' + msg.attributes.fromNumber + '<br />'\n                            : '') +\n                          (msg.attributes.toNumber\n                            ? 'To: ' + msg.attributes.toNumber + '<br />'\n                            : '') +\n                          (msg.attributes.dateCreated\n                            ? 'Date created: ' +\n                              msg.attributes.dateCreated +\n                              '<br />'\n                            : '') +\n                          (msg.attributes.numSegments\n                            ? 'Sent as ' +\n                              msg.attributes.numSegments +\n                              ' segment' +\n                              (msg.attributes.numSegments > 1 ? 's' : '')\n                            : '')\n                        }\n                      >\n                        {printTimestamp(msg.timestamp)}\n                      </TimeStamp>\n                    </Header>\n                    <Body key=\"body\">{formatBodyText(msg.body)}</Body>\n                  </Bubble>\n                </MsgListItem>\n              ];\n            })}\n            <div ref={this.messagesEndRef} />\n          </MsgCanvas>\n        </Container>\n      );\n    }\n  }\n}\n\nconst StyledReactTooltip = styled(ReactTooltip)`\n  &.type-dark {\n    font-size: 11px;\n    padding: 0.5rem 0.75rem;\n    background-color: #565b73;\n    color: #ffffff;\n    > * {\n      text-align: left;\n    }\n  }\n  &.__react_component_tooltip.place-left::after {\n    border-left: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-right::after {\n    border-right: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-top::after {\n    border-top: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-bottom::after {\n    border-bottom: 6px solid #565b73 !important;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  flex-shrink: 1;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  overflow-y: auto;\n  padding-left: 12px;\n  padding-right: 12px;\n  position: relative;\n  overflow-x: hidden;\n  flex-flow: row wrap;\n  align-items: stretch;\n  height: 100%;\n`;\n\nconst MsgCanvas = styled.div`\n  width: 100%;\n`;\n\nconst MsgListItem = styled.div`\n  flex-direction: column;\n  margin-bottom: 8px;\n  margin-top: 8px;\n  display: flex;\n  position: relative;\n  flex: 1 1 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  min-width: 100px;\n  overflow-x: hidden;\n  ${(props) =>\n    props.author === 'them'\n      ? // them - grey\n        `\n    align-self: left;\n    margin-left: 0px;\n    margin-right: 44px;\n    `\n      : // us - accent color\n        `\n    align-self: right;\n    margin-left: 44px;\n    margin-right: 0px;\n    `}\n`;\n\nconst Bubble = styled.div`\n  padding: 5px 12px 8px 12px;\n  margin-left: 0px;\n  position: relative;\n  overflow-x: hidden;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: column;\n  ${(props) =>\n    props.author === 'them'\n      ? // them - grey\n        `\n    background: #ECEDF1;\n    color: rgb(34, 34, 34);\n    margin-right: auto;\n    `\n      : // us - blue\n        `\n    background: ${process.env.REACT_APP_ACCENT_COLOR};\n    color: #FFFFFF;\n    margin-left: auto;\n    `}\n  border-radius: 4px;\n`;\n\nconst Header = styled.div`\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: row;\n`;\n\nconst Author = styled.div`\n  font-size: 10px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 8px;\n  font-weight: bold;\n  overflow: hidden;\n  flex: 0 1 auto;\n`;\n\nconst TimeStamp = styled.div`\n  font-size: 10px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  flex: 0 0 auto;\n`;\n\nconst Body = styled.div`\n  margin-top: 3px;\n  margin-bottom: 0px;\n  font-size: 12px;\n  line-height: 1.54;\n  overflow-wrap: break-word;\n`;\n\nconst Date = styled.div`\n  text-align: center;\n  font-size: 12px;\n  color: #565b73;\n  padding-top: 8px;\n`;\n","import React, { Component } from 'react';\nimport styled, { keyframes, css } from 'styled-components';\nimport chroma from 'chroma-js';\nimport { formParams } from '../lib/common';\n\nconst textAreaMaxHeight = 82; // px\nconst msgOutboundUrl =\n  (process.env.REACT_APP_RUNTIME_DOMAIN\n    ? process.env.REACT_APP_RUNTIME_DOMAIN\n    : '') + '/msgOutbound';\n\nconst hover_accent = chroma(process.env.REACT_APP_ACCENT_COLOR).darken().hex();\n\nexport default class MsgComposer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      msgText: '',\n      sending: false,\n      error: null\n    };\n    this.msgTextRef = React.createRef();\n  }\n\n  resizeTextArea(textArea) {\n    textArea.style.height = 'inherit';\n    textArea.style.height = `${Math.min(\n      textArea.scrollHeight,\n      textAreaMaxHeight\n    )}px`;\n    textArea.focus();\n  }\n\n  handleChange = (e) => {\n    this.setState({ msgText: e.target.value });\n    this.resizeTextArea(e.target);\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      // Enter\n      if (e.shiftKey) {\n        this.resizeTextArea(e.target);\n      } else {\n        e.preventDefault();\n        e.stopPropagation();\n        this.handleSend();\n      }\n    }\n  };\n\n  normalizePhoneNumber(phoneNumber) {\n    return phoneNumber.replace(/[()\\- ]/g, '');\n  }\n\n  handleSend = () => {\n    this.setState({ sending: true });\n\n    const contact = this.props.selectedContact;\n    let toNumber = contact;\n    if (contact === 'new') {\n      toNumber = this.normalizePhoneNumber(this.props.newPhoneNumber);\n    }\n    const body = formParams({\n      to: toNumber,\n      body: this.state.msgText,\n      secret: this.props.secret\n    });\n\n    fetch(msgOutboundUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body\n    })\n      .then(async (response) => {\n        if (response.status === 200) {\n          this.setState({ msgText: '', sending: false, error: null });\n          if (contact === 'new') {\n            this.props.updateNewPhoneNumber('');\n            this.props.selectContact(toNumber);\n          }\n          this.resizeTextArea(this.msgTextRef.current);\n        } else {\n          const errText = await response.text();\n          console.error(response.status, errText);\n          this.setState({ sending: false, error: errText });\n        }\n      })\n      .catch((err) => {\n        this.setState({ sending: false, error: 'Backend err:' + err });\n        console.error('Error while sending message:', err);\n      });\n  };\n\n  render() {\n    return [\n      this.state.error ? (\n        <Error key=\"error\">\n          <ErrorText>{this.state.error}</ErrorText>\n        </Error>\n      ) : null,\n      <Container key=\"msgComposer\">\n        <TextAreaContainer key=\"txtAreaContainer\">\n          <TextArea\n            rows=\"1\"\n            autoFocus\n            placeholder=\"Type message\"\n            ref={this.msgTextRef}\n            value={this.state.msgText}\n            onChange={this.handleChange}\n            onKeyDown={this.handleKeyDown}\n            disabled={this.state.sending}\n          />\n        </TextAreaContainer>\n        <BtnSend\n          key=\"btnSend\"\n          disabled={this.state.msgText === '' || this.state.sending}\n          sending={this.state.sending}\n          onClick={this.handleSend}\n        >\n          {IcoSend}\n        </BtnSend>\n      </Container>\n    ];\n  }\n}\n\nconst Container = styled.div`\n  flex-grow: 1;\n  flex-shrink: 0;\n\n  min-height: 2.5em;\n  max-height: 85px;\n  color: rgb(34, 34, 34);\n  position: relative;\n  overflow-x: hidden;\n\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 0;\n  flex-direction: row;\n  background: #ffffff;\n  padding-top: 8px;\n  padding-bottom: 12px;\n  margin-left: 12px;\n  margin-right: 12px;\n`;\n\nconst TextAreaContainer = styled.div`\n  display: flex;\n  align-self: flex-end;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  flex-grow: 1;\n  flex-shrink: 1;\n  width: 100%;\n  box-sizing: border-box;\n  color: rgb(34, 34, 34);\n  overflow: hidden;\n  background: rgb(236, 237, 241);\n  border-radius: 18px;\n`;\n\nconst TextArea = styled.textarea`\n  font-size: 12px;\n  display: block;\n  width: 100vw;\n  resize: none;\n  box-sizing: border-box;\n  padding-left: 12px;\n  padding-right: 12px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  color: ${(props) => (props.disabled ? '#94979B' : 'rgb(34, 34, 34)')};\n  border-width: 0px;\n  border-style: initial;\n  border-color: initial;\n  border-image: initial;\n  outline: none;\n  background: rgb(236, 237, 241);\n`;\n\nconst flash = keyframes`\n    0% { opacity: 0.25; }\n   50% { opacity: 0.50; }\n  100% { opacity: 0.25; }\n`;\n\nconst BtnSend = styled.button`\n  flex-grow: 0;\n  flex-shrink: 0;\n  align-self: flex-end;\n  width: 36px;\n  height: 36px;\n  color: rgb(255, 255, 255);\n  padding: 0px;\n  border-width: initial;\n  border-style: none;\n  border-color: initial;\n  border-image: initial;\n  outline: none;\n  border-radius: 100px;\n  background: ${process.env.REACT_APP_ACCENT_COLOR};\n  margin-left: 8px;\n  ${(props) =>\n    props.disabled\n      ? `\n    opacity: 0.5;\n    cursor: default;\n    `\n      : `\n    opacity: 1;\n    cursor: pointer;\n    &:hover { background: ${hover_accent}; }\n    `}\n  animation: ${(props) =>\n    props.sending\n      ? css`\n          ${flash} 1s ease-in-out infinite\n        `\n      : ''};\n`;\n\nconst Error = styled.div`\n  text-align: center;\n  padding: 2px;\n  margin: 0;\n`;\n\nconst ErrorText = styled.div`\n  padding: 3px 20px 3px 20px;\n  margin:0;\n  display: inline-block\n  background: #fbcbd0;\n  color: #F22F46;\n  border-radius: 9px;\n  font-weight: 400;\n`;\n\nconst IcoSend = (\n  <svg\n    width=\"24px\"\n    height=\"24px\"\n    className=\"Twilio-Icon-Content\"\n    viewBox=\"0 0 24 24\"\n  >\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M19.641 4c.164 0 .27.064.317.193.047.13.023.305-.07.528l-7.19 16.77a.761.761 0 01-.237.36.501.501 0 01-.308.114.494.494 0 01-.281-.097.989.989 0 01-.264-.29L8.76 16.92a4.609 4.609 0 00-.73-.905 5.269 5.269 0 00-.904-.747L2.38 12.314c-.27-.175-.396-.372-.378-.588.017-.217.172-.39.465-.519l16.788-7.12c.07-.023.137-.043.202-.06A.701.701 0 0119.64 4zM7.723 14.266c.117.07.238.155.36.255.124.1.25.208.379.325l8.314-8.455-12.902 5.484 3.85 2.39zm4.342 5.818l5.52-12.92-8.332 8.473c.105.117.202.234.29.351.088.117.16.235.22.352l2.302 3.744z\"\n    ></path>\n  </svg>\n);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { parsePhoneNumberFromString } from 'libphonenumber-js';\nimport chroma from \"chroma-js\";\n\nconst hover_accent = chroma(process.env.REACT_APP_ACCENT_COLOR).darken().hex();\n\nfunction MsgContactHeader(props) {\n  if (props.selectedContact === \"new\") {\n    return <ContactHeader>\n      <Spacer key=\"Lspacer\">\n        <BtnBack onClick={props.back}>{IcoBack}</BtnBack>\n      </Spacer>\n      <InputContainer key=\"inputContainer\">\n        <Input\n          placeholder=\"Type phone number\"\n          onChange={props.updateNewPhoneNumber}\n          value={props.newPhoneNumber}\n        /*onKeyDown={}*/\n        />\n      </InputContainer>\n      <Spacer key=\"Rspacer\" />\n    </ContactHeader>;\n  } else {\n    const phoneNumber = parsePhoneNumberFromString(props.selectedContact) ? parsePhoneNumberFromString(props.selectedContact).formatInternational() : props.selectedContact;\n    return <ContactHeader>\n      <Spacer key=\"Lspacer\">\n        <BtnBack onClick={props.back}>{IcoBack}</BtnBack>\n      </Spacer>\n      <ContactName key=\"contactName\">{phoneNumber}</ContactName>\n      <Spacer key=\"Rspacer\" />\n    </ContactHeader>;\n  }\n}\n\nexport default MsgContactHeader;\n\nconst ContactHeader = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n  background: #ffffff;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 2.5em;\n  margin-left: 12px;\n  margin-right: 12px;\n  border-style: solid;\n  border-width: 0px 0px 1px;\n  border-color: rgb(198, 202, 215);\n`;\n\nconst ContactName = styled.div`\n  font-weight: 600;\n`;\n\nconst Spacer = styled.div`\n  flex: 1;\n  display: flex;\n  align-items: center;\n`;\n\nconst BtnBack = styled.button`\n  width: 24px;\n  height: 24px;\n  color: #FFFFFF;\n  padding: 0;\n  margin: 0;\n  border-width: initial;\n  border-style: none;\n  border-color: initial;\n  border-image: initial;\n  outline: none;\n  border-radius: 100px;\n  background: ${process.env.REACT_APP_ACCENT_COLOR};\n  cursor: pointer;\n  &:hover {\n    background: ${hover_accent};\n  }\n`;\n\nconst IcoBack = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\">\n  <path\n    fill=\"#fff\"\n    d=\"M279.218 115.587l-126.897 121.83c-7.149 6.853-7.149 18.295 0 25.177l126.897 121.801c7.782 7.473 20.068 7.473 27.85 0 8.233-7.909 8.233-21.081 0-29.004L200.789 253.362a4.651 4.651 0 010-6.741l106.279-102.03c8.233-7.909 8.233-21.081 0-29.004A20.133 20.133 0 00293.15 110a20.141 20.141 0 00-13.932 5.587z\"\n  ></path>\n</svg>;\n\nconst InputContainer = styled.div`\n  width: 175px;\n  box-sizing: border-box;\n  color: rgb(34, 34, 34);\n  overflow: hidden;\n  background: rgb(236, 237, 241);\n  border-radius: 10px;\n`;\n\nconst Input = styled.input`\n  font-weight: 600;\n  font-size: 15px;\n  display: block;\n  width: 100vw;\n  resize: none;\n  box-sizing: border-box;\n  padding-left: 14px;\n  padding-right: 14px;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  color: ${props => (props.disabled ? \"#94979B\" : \"rgb(34, 34, 34)\")};\n  border-width: 0px;\n  border-style: initial;\n  border-color: initial;\n  border-image: initial;\n  outline: none;\n  background: rgb(236, 237, 241);\n`;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport MsgContactList from './MsgContactList';\nimport MsgContactAdd from './MsgContactAdd';\nimport MsgList from './MsgList';\nimport MsgComposer from './MsgComposer';\nimport Spinner from './Spinner';\nimport MsgContactHeader from './MsgContactHeader';\n\nconst msgsPerPage = 30;\n\nexport default class CanvasMsg extends Component {\n  constructor(props) {\n    super(props);\n    this.msgAddedHandlerTracker = {};\n    this.fetchTracker = {};\n    this.state = {\n      selectedContact: null,\n      newPhoneNumber: ''\n    };\n  }\n\n  selectContact = (selectedContact) => {\n    this.setState({ selectedContact });\n    if (selectedContact !== null) {\n      this.fetchMsgsForContact(selectedContact); // async fetch data for selected contact\n      this.props.client\n        .getChannelByUniqueName(selectedContact)\n        .then((channel) => {\n          // mark all messages as read\n          channel.setAllMessagesConsumed().then(() => {\n            // when done, update cache as well\n            this.props.setUnreadsCache(selectedContact, 0);\n          });\n        });\n    }\n  };\n\n  //deleteThread = (contact) => {\n  //  this.props.client.getChannelByUniqueName(contact).then((channel) => {\n  //    // mark all messages as read\n  //    channel.delete();\n  //    this.fetchTracker[contact] = false;\n  //    delete this.msgAddedHandlerTracker[contact];\n  //  });\n  //};\n\n  fetchAnotherPage = () => {\n    return new Promise((resolve, reject) => {\n      const contact = this.state.selectedContact;\n      if (contact === 'new') {\n        return;\n      }\n      const paginator = this.props.msgPgtrCache[contact];\n      if (!paginator.hasPrevPage) {\n        reject('No more messages.');\n      } else {\n        paginator.prevPage().then((paginator) => {\n          let messages = [];\n          paginator.items.forEach((msg) => {\n            messages.push(msg);\n          });\n          this.props.addMsgCachePage(contact, messages, paginator);\n          resolve();\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    if (this.props.channelList) {\n      Object.keys(this.props.channelList).forEach((contact) => {\n        this.fetchMsgsForContact(contact);\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.channelList) {\n      Object.keys(this.props.channelList).forEach((contact) => {\n        this.fetchMsgsForContact(contact);\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    // remove all 'messageAdded' event listeners\n    Object.keys(this.msgAddedHandlerTracker).forEach((contact) => {\n      this.props.client.getChannelByUniqueName(contact).then((channel) => {\n        channel.removeAllListeners('messageAdded');\n      });\n    });\n  }\n\n  msgAddedHandler = (contact, msg) => {\n    this.props.addMsgCacheMsg(contact, msg);\n    if (\n      // if we're the originator of the message, it means we've read it\n      // (this ensures messages originating from this client don't count as unread)\n      msg.state.author === 'us' ||\n      // or same thing if user has the thread the message belongs to currently opened\n      contact === this.state.selectedContact\n    ) {\n      this.props.channelList[contact]\n        .updateLastConsumedMessageIndex(msg.state.index)\n        .then(() => {\n          this.props.setUnreadMsgs(this.props.channelList[contact], contact);\n        });\n    } else {\n      this.props.setUnreadMsgs(this.props.channelList[contact], contact);\n    }\n  };\n\n  fetchMsgsForContact = (contact) => {\n    if (contact === 'new') {\n      return;\n    }\n    if (\n      this.props.msgCache[contact] === undefined &&\n      !this.fetchTracker[contact]\n    ) {\n      this.fetchTracker[contact] = true; // prevent double-fetching\n      this.props.client.getChannelByUniqueName(contact).then((channel) => {\n        // first fetch existing messages\n        channel.getMessages(msgsPerPage).then((paginator) => {\n          let messages = [];\n          paginator.items.forEach((msg) => {\n            messages.push(msg);\n          });\n          this.props.setMsgCachePage(contact, messages, paginator);\n          this.props.setUnreadMsgs(channel, contact);\n        });\n        // then subscribe for receiving new messages\n        if (!this.msgAddedHandlerTracker[contact]) {\n          this.msgAddedHandlerTracker[contact] = true;\n          channel.on('messageAdded', this.msgAddedHandler.bind(null, contact));\n        }\n      });\n    }\n  };\n\n  updateNewPhoneNumber = (e) => {\n    if (e && e.target) {\n      this.setState({ newPhoneNumber: e.target.value });\n    } else if (e === '') {\n      // for resets after sending message in MsgComposer\n      this.setState({ newPhoneNumber: '' });\n    }\n  };\n\n  render() {\n    if (this.state.selectedContact) {\n      return (\n        <Canvas>\n          <MsgContactHeader\n            key=\"msgContactHeader\"\n            back={this.selectContact.bind(null, null)}\n            selectedContact={this.state.selectedContact}\n            newPhoneNumber={this.state.newPhoneNumber}\n            updateNewPhoneNumber={this.updateNewPhoneNumber}\n          />\n          <MsgList\n            key=\"msgList\"\n            messages={this.props.msgCache[this.state.selectedContact]}\n            fetchAnotherPage={this.fetchAnotherPage}\n            selectedContact={this.state.selectedContact}\n          />\n          <MsgComposer\n            key=\"msgComposer\"\n            secret={this.props.secret}\n            selectedContact={this.state.selectedContact}\n            selectContact={this.selectContact}\n            newPhoneNumber={this.state.newPhoneNumber}\n            updateNewPhoneNumber={this.updateNewPhoneNumber}\n          />\n        </Canvas>\n      );\n    } else {\n      if (this.props.channelList === null) {\n        return (\n          <Canvas>\n            <Spinner text=\"Loading...\" />\n          </Canvas>\n        );\n      } else {\n        return (\n          <Canvas>\n            <MsgContactAdd\n              key=\"msgContactAdd\"\n              selectContact={this.selectContact}\n            />\n            <MsgContactList\n              key=\"msgContactList\"\n              msgUnreadsCache={this.props.msgUnreadsCache}\n              client={this.props.client}\n              channelList={this.props.channelList}\n              selectContact={this.selectContact}\n              //deleteThread={this.deleteThread}\n              msgCache={this.props.msgCache}\n              unreadsCache={this.props.unreadsCache}\n            />\n          </Canvas>\n        );\n      }\n    }\n  }\n}\n\nconst Canvas = styled.div`\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  align-items: stretch;\n  height: 100%;\n  position: relative;\n  overflow-x: hidden;\n`;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport {\n  BtnDial,\n  BtnDialRed,\n  BtnDialGreen,\n  DialRed,\n  DialGreen\n} from './CallDialpadComponents';\n\nclass Dial extends Component {\n  constructor(props) {\n    super(props);\n    this.tid = 0;\n    this.suppressClick = false;\n  }\n\n  toggleOn = () => {\n    if (this.props.digit === '0' && this.tid === 0) {\n      this.tid = setInterval(this.pressAndHold, 600);\n    }\n  };\n\n  toggleOff = () => {\n    if (this.tid !== 0) {\n      clearInterval(this.tid);\n      this.tid = 0;\n    }\n  };\n\n  pressAndHold = () => {\n    this.suppressClick = true;\n    clearInterval(this.tid);\n    this.tid = 0;\n    if (this.props.digit === '0') {\n      this.props.dialPressed(this.props.sub);\n    }\n  };\n\n  dialPress = () => {\n    if (!this.suppressClick) {\n      this.props.dialPressed(this.props.digit);\n    }\n    this.suppressClick = false;\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.tid);\n  }\n\n  render() {\n    return (\n      <BtnDial\n        onClick={this.dialPress}\n        onMouseDown={this.toggleOn}\n        onMouseUp={this.toggleOff}\n        theme={this.props.theme}\n        {...this.props}\n      >\n        <Digit>{this.props.digit}</Digit>\n        <br />\n        <Sub>{this.props.sub}</Sub>\n      </BtnDial>\n    );\n  }\n}\n\nfunction CallDialpad(props) {\n  const dials = [\n    ['1', '\\u00A0'],\n    ['2', 'ABC'],\n    ['3', 'DEF'],\n    ['4', 'GHI'],\n    ['5', 'JKL'],\n    ['6', 'MNO'],\n    ['7', 'PQRS'],\n    ['8', 'TUV'],\n    ['9', 'WXYZ'],\n    ['*', ''],\n    ['0', '+'],\n    ['#', '']\n  ];\n\n  return (\n    <Dialpad>\n      {dials.map((dial) => {\n        return (\n          <Dial\n            key={dial[0]}\n            digit={dial[0]}\n            sub={dial[1]}\n            {...props}\n            dialActive={props.dialActive[dial[0]]}\n          />\n        );\n      })}\n      {props.callActive\n        ? [\n            <Spacer key=\"Lspacer\" />,\n            <BtnDialRed\n              {...props}\n              key=\"RedDial\"\n              onClick={props.dialPressed.bind(null, 'Hangup')}\n            >\n              <DialRed></DialRed>\n            </BtnDialRed>,\n            <BtnDial\n              key=\"MuteDial\"\n              toggled={props.muted}\n              theme={props.theme}\n              onClick={props.dialPressed.bind(null, 'ToggleMute')}\n            >\n              {props.muted ? <Unmute /> : <Mute />}\n            </BtnDial>\n          ]\n        : [\n            <Spacer key=\"Lspacer\" />,\n            <BtnDialGreen\n              key=\"GreenDIal\"\n              {...props}\n              onClick={props.dialPressed.bind(null, 'Enter')}\n              dialActive={props.dialActive['Enter']}\n            >\n              <DialGreen></DialGreen>\n            </BtnDialGreen>,\n            <Spacer\n              {...props}\n              key=\"Rspacer\"\n              onClick={props.dialPressed.bind(null, 'Backspace')}\n              dialActive={props.dialActive['Backspace']}\n            >\n              <SvgBackspace style={{ cursor: 'pointer' }} />\n            </Spacer>\n          ]}\n    </Dialpad>\n  );\n}\n\nconst Digit = styled.span`\n  font-size: 8vmin;\n  @media (min-width: 400px) {\n    font-size: 32px;\n  }\n  font-weight: 600;\n`;\n\nconst Sub = styled.span`\n  font-size: 3vmin;\n  letter-spacing: 0.5vmin;\n  @media (min-width: 400px) {\n    font-size: 12px;\n    letter-spacing: 2px;\n  }\n  font-weight: 500;\n`;\n\nconst Dialpad = styled.div`\n  display: grid;\n  grid-template-columns: auto auto auto;\n  position: relative;\n  width: 80vmin;\n  padding-top: 5.5vmin;\n  @media (min-width: 400px) {\n    width: 320px;\n    padding-top: 22px;\n  }\n`;\n\nconst Spacer = styled.div`\n  width: 20vmin;\n  height: 20vmin;\n  margin: 2vmin 3vmin 2vmin 3vmin;\n  @media (min-width: 400px) {\n    width: 80px;\n    height: 80px;\n    margin: 8px 12px 8px 12px;\n  }\n  color: ${(props) =>\n    props.dialActive ? props.theme.dialActive : props.theme.dial};\n  &:hover {\n    color: ${(props) => props.theme.dialActive};\n  }\n`;\n\nconst SvgBackspace = (props) => (\n  <svg\n    viewBox=\"0 0 50 50\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinecap=\"round\"\n    strokeMiterlimit={5}\n    {...props}\n  >\n    <path\n      d=\"M35.714 15.429c1.1 0 1.991.891 1.991 1.99v15.172c0 .525-.209 1.029-.581 1.4-.371.372-.875.58-1.4.58H18.77a2.032 2.032 0 01-1.602-.781l-6.639-8.491a.486.486 0 010-.598l6.658-8.516a1.97 1.97 0 011.552-.756h16.975z\"\n      fill=\"currentColor\"\n      stroke=\"currentColor\"\n      strokeWidth={1.5}\n    />\n    <path\n      d=\"M21.318 29.918a.6.6 0 010-.848l3.646-3.646a.601.601 0 000-.848l-3.646-3.646a.6.6 0 010-.848l.275-.275a.6.6 0 01.849 0l3.645 3.645a.6.6 0 00.849 0l3.665-3.664a.57.57 0 01.81 0l.295.295a.598.598 0 010 .846l-3.647 3.647a.6.6 0 000 .848l3.646 3.646a.6.6 0 010 .848l-.275.275a.6.6 0 01-.849 0l-3.645-3.645a.599.599 0 00-.849 0l-3.645 3.645a.6.6 0 01-.849 0l-.275-.275z\"\n      fill=\"#222\"\n    />\n  </svg>\n);\n\nconst SvgMute = (props) => (\n  <svg\n    viewBox=\"0 0 50 50\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={2}\n    {...props}\n  >\n    <path\n      d=\"M13.29 28.057l-2.731 2.731A15.23 15.23 0 019.424 25v-3.462c0-.946.784-1.73 1.731-1.73.946 0 1.73.784 1.73 1.73V25c0 1.054.163 2.082.405 3.057zm30.128-16.282l-9.763 9.763V25c0 4.76-3.895 8.654-8.654 8.654a8.87 8.87 0 01-2.948-.514l-2.596 2.596a11.942 11.942 0 005.544 1.379c6.679 0 12.115-5.436 12.115-12.115v-3.462c0-.946.784-1.73 1.731-1.73.947 0 1.731.784 1.731 1.73V25c0 8.005-6.058 14.603-13.846 15.468v3.57h6.923c.946 0 1.73.785 1.73 1.731 0 .947-.784 1.731-1.73 1.731H16.347a1.743 1.743 0 01-1.731-1.731c0-.947.784-1.731 1.731-1.731h6.923v-3.57a15.236 15.236 0 01-6.355-2.191l-6.87 6.869a.865.865 0 01-1.244 0l-2.217-2.217a.865.865 0 010-1.244L39.955 8.314a.865.865 0 011.244 0l2.217 2.217a.865.865 0 010 1.244h.002zM33.141 8.206L16.347 25V11.154c0-4.76 3.894-8.654 8.654-8.654 3.731 0 6.923 2.408 8.14 5.706z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n\nconst Mute = styled(SvgMute)`\n  height: 10vmin;\n  width: 10vmin;\n  @media (min-width: 400px) {\n    width: 40px;\n    height: 40px;\n  }\n`;\n\nconst Unmute = styled(SvgMute)`\n  height: 10vmin;\n  width: 10vmin;\n  @media (min-width: 400px) {\n    width: 40px;\n    height: 40px;\n  }\n  background-color: ${(props) => props.theme.dialRedActive};\n  &:hover {\n    background-color: ${(props) => props.theme.dial};\n  }\n`;\n\nexport default CallDialpad;\n","import React, { Component } from 'react';\nimport update from 'immutability-helper';\nimport styled from 'styled-components';\nimport {\n  BtnDialRed,\n  BtnDialGreen,\n  DialRed,\n  DialGreen\n} from './CallDialpadComponents';\nimport { ModalMessage } from './CommonComponents';\n\nimport { AsYouType } from 'libphonenumber-js';\n\nimport CallDialpad from './CallDialpad';\n\nexport default class CanvasMsg extends Component {\n\n  constructor(props) {\n    super(props);\n    this.asYouType = new AsYouType('US');\n    this.timer = null;\n\n    let dialActive = {};\n    [\n      '0',\n      '1',\n      '2',\n      '3',\n      '4',\n      '5',\n      '6',\n      '7',\n      '8',\n      '9',\n      '*',\n      '#',\n      'Backspace',\n      'Enter'\n    ].forEach((key) => {\n      dialActive[key] = false;\n    });\n\n    this.state = {\n      elapsedTime: null,\n      dialActive,\n      isMuted: false,\n      incomingRing: false,\n      incomingConnection: null\n    };\n\n    this.numberInputRef = React.createRef();\n    this.disconnectHandler = (connection) => {\n      console.log('CC: DISCONNECT event fired');\n      this.wrapupCall();\n    };\n    this.handlersSet = false;\n\n    this.theme = {\n      color: '#222222',\n      colorToggled: '#FFFFFF',\n      dial: '#E8E8E8',\n      dialActive: '#94979B',\n      dialToggled: '#6f7174',\n      dialGreen: '#36D576',\n      dialGreenActive: '#289f58',\n      dialRed: '#F22F46',\n      dialRedActive: '#B52334'\n    };\n  \n  }\n\n  runPressEvents(digit) {\n    if (digit === 'Enter') {\n      this.connectCall();\n    } else if (digit === 'Backspace') {\n      return;\n    } else if (digit === 'Hangup') {\n      this.hangupCall();\n    } else if (digit === 'ToggleMute') {\n      this.toggleMute();\n    } else {\n      // send DTMF\n      if (\n        this.props.client.activeConnection() &&\n        '0123456789#*'.includes(digit)\n      ) {\n        this.props.client.activeConnection().sendDigits(digit);\n      }\n    }\n  }\n\n  /**\n   * Outbound call\n   */\n  connectCall = () => {\n    if (this.props.client.status() !== 'ready') {\n      console.error('Client is not ready (' + this.props.client.status() + ')');\n      return;\n    }\n    console.log('Dialing', this.props.callDisplay);\n    this.props.setCallConnection(\n      this.props.client.connect({\n        number: this.props.callDisplay\n      })\n    );\n    this.props.getCallConnection().on('mute', (isMuted) => {\n      this.setState({ isMuted });\n    });\n    this.props.setCallTypingPN(false);\n    this.props.setCallNextKeyReset(true);\n    this.props.setCallStartTime(new Date());\n    this.timer = setTimeout(this.tick, 1000);\n  };\n\n  tick = () => {\n    const now = new Date();\n    this.setState({ elapsedTime: now - this.props.getCallStartTime() });\n    this.timer = setTimeout(this.tick, 1000 - (now % 1000));\n  };\n\n  showTime(milis) {\n    const date = new Date(null);\n    date.setMilliseconds(milis);\n    if (milis) {\n      return (\n        (date.getUTCHours() > 0 ? date.getUTCHours() + ':' : '') +\n        date.toISOString().substr(14, 5)\n      );\n    } else {\n      return '';\n    }\n  }\n\n  hangupCall = () => {\n    this.props.client.disconnectAll();\n  };\n\n  /**\n   * Cleanup after a call has ended\n   */\n  wrapupCall = () => {\n    clearTimeout(this.timer);\n    this.setState({ elapsedTime: null, isMuted: false });\n    // Destroy any pending connection listeners\n    if (this.props.getCallConnection()) {\n      this.props.getCallConnection().removeAllListeners('mute');\n    }\n  };\n\n  toggleMute = () => {\n    this.props\n      .getCallConnection()\n      .mute(!this.props.getCallConnection().isMuted());\n  };\n\n  dialPressed = (dial) => {\n    let _display = this.props.callDisplay;\n    // reset display (e.g. after call is placed)\n    if (this.props.getCallNextKeyReset() && dial.match(/^[0-9+#*]$/)) {\n      this.props.setCallDisplay('');\n      _display = '';\n      this.props.setCallNextKeyReset(false);\n    }\n    if (dial.match(/^[0-9#*]$/)) {\n      this.updateDisplay(_display + dial);\n    } else if (dial === 'Backspace') {\n      if (_display.charAt(_display.length - 1) === ')') {\n        this.updateDisplay(_display.substr(0, _display.length - 2));\n      } else {\n        this.updateDisplay(_display.substr(0, _display.length - 1));\n      }\n    } else if (dial === '+') {\n      if (_display === '') {\n        this.updateDisplay('+');\n      }\n    }\n    this.numberInputRef.current.focus();\n    this.runPressEvents(dial);\n  };\n\n  dialFakeReset = (dial) => {\n    if (this.state.dialActive[dial] !== undefined) {\n      this.setState({\n        dialActive: update(this.state.dialActive, { [dial]: { $set: false } })\n      });\n    }\n  };\n\n  dialFakePressed = (dial) => {\n    if (this.state.dialActive[dial] !== undefined) {\n      this.setState({\n        dialActive: update(this.state.dialActive, { [dial]: { $set: true } })\n      });\n    }\n    this.runPressEvents(dial);\n    // sometimes if multiple keys are pressed simultaneously, keyUp event doesn't fire so clean by timeout\n    setTimeout(this.dialFakeReset.bind(null, dial), 300);\n  };\n\n  handleKeyUp = (e) => {\n    this.dialFakeReset(e.key);\n  };\n\n  handleKeyDown = (e) => {\n    // handle edge-case when backspace is pressed right after ')' (which would delete that char, but not the digit before it)\n    if (\n      e.key === 'Backspace' &&\n      e.target.value.charAt(e.target.selectionStart - 1) === ')'\n    ) {\n      let _display = this.props.callDisplay;\n      _display = _display.substr(0, _display.length - 1);\n      this.props.setCallDisplay(_display);\n    }\n    if (e.ctrlKey || e.metaKey || e.altKey) return;\n    const allowedKeys = [\n      '+',\n      '0',\n      '1',\n      '2',\n      '3',\n      '4',\n      '5',\n      '6',\n      '7',\n      '8',\n      '9',\n      '*',\n      '#',\n      'Backspace',\n      'Enter'\n    ];\n    if (!allowedKeys.includes(e.key)) {\n      e.preventDefault();\n      e.stopPropagation();\n    } else {\n      // reset display (e.g. after call is placed)\n      if (this.props.getCallNextKeyReset()) {\n        this.props.setCallDisplay('');\n        this.props.setCallNextKeyReset(false);\n      }\n      // simulate events as if a real dial was pressed\n      this.dialFakePressed(e.key);\n    }\n  };\n\n  handleChange = (e) => {\n    this.updateDisplay(e.target.value);\n  };\n\n  moveCaretToEnd(e) {\n    e.target.selectionStart = e.target.value.length;\n    e.target.selectionEnd = e.target.value.length;\n  }\n\n  formatNumber = (number) => {\n    this.asYouType.reset();\n    const result = this.asYouType.input(number);\n    return result === '' ? number : result;\n  };\n\n  updateDisplay = (newValue) => {\n    if (this.props.getCallTypingPN() === true) {\n      this.asYouType.reset();\n      const result = this.asYouType.input(newValue);\n      if (result !== '') {\n        this.props.setCallDisplay(result);\n      } else {\n        this.props.setCallDisplay(newValue);\n      }\n    } else {\n      this.props.setCallDisplay(newValue);\n    }\n  };\n\n  focusDisplay = () => {\n    if (this.numberInputRef.current) {\n      this.numberInputRef.current.focus();\n    }\n  };\n\n  componentWillUnmount() {\n    //this.props.client.removeAllListeners('incoming');\n    //this.props.client.removeAllListeners('connect');\n    //this.props.client.removeAllListeners('ready');\n    this.props.client.removeListener('disconnect', this.disconnectHandler);\n    if (this.props.getCallConnection()) {\n      this.props.getCallConnection().removeAllListeners('mute');\n    }\n    clearTimeout(this.timer);\n  }\n\n  bindListeners = () => {\n    if (this.props.client && !this.handlersSet) {\n      /*this.props.client.on('connect', (conn) => {\n        console.log('CC: CONNECT event fired');\n      });*/\n\n      this.props.client.on('disconnect', this.disconnectHandler);\n\n      // if there's an active connection already in place\n      // (i.e. switching from SMS canvas after placing a call)\n      if (\n        this.props.getCallConnection() &&\n        this.props.getCallConnection().status() !== 'closed'\n      ) {\n        // re-set mute event listener\n        this.props.getCallConnection().on('mute', (isMuted) => {\n          this.setState({ isMuted });\n        });\n        // and update mute button's state\n        this.setState({ isMuted: this.props.getCallConnection().isMuted() });\n\n        // re-set elapsed time timer\n        this.timer = setTimeout(this.tick, 1000);\n        // and update current elapsed time\n        const now = new Date();\n        this.setState({ elapsedTime: now - this.props.getCallStartTime() });\n      }\n      this.handlersSet = true;\n    }\n  };\n\n  componentDidMount() {\n    this.bindListeners();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    this.bindListeners();\n    /*if (\n      this.props.client &&\n      this.props.client.status() !== prevState.clientStatus\n    ) {\n      this.setState({ clientStatus: this.props.client.status() });\n    }*/\n    this.focusDisplay();\n  }\n\n  acceptIncomingCall = (conn) => {\n    if (conn) {\n      conn.accept();\n      this.updateDisplay(conn.parameters.From);\n      this.props.setCallTypingPN(false);\n      this.props.setCallNextKeyReset(true);\n      this.props.setCallStartTime(new Date());\n      this.timer = setTimeout(this.tick, 1000);\n      this.props.getCallConnection().on('mute', (isMuted) => {\n        this.setState({ isMuted });\n      });\n    } else {\n      console.error('No incoming connection found');\n    }\n  };\n\n  rejectIncomingCall = (conn) => {\n    if (conn) {\n      conn.reject();\n    } else {\n      console.error('No incoming connection found');\n    }\n  };\n\n  render() {\n    if (!this.props.client || this.props.client.status() === 'offline') {\n      return (\n        <Canvas>\n          <ModalMessage\n            msg=\"Voice client is offline\"\n            img=\"offline\"\n          ></ModalMessage>\n        </Canvas>\n      );\n    } else if (this.props.incomingCall !== null) {\n      return (\n        <Canvas>\n          <Label1>Incoming call from</Label1>\n          <Label2>\n            {this.formatNumber(this.props.incomingCall.parameters.From)}\n          </Label2>\n          <IncomingDials>\n            <BtnDialRed\n              theme={this.theme}\n              key=\"RedDial\"\n              onClick={this.rejectIncomingCall.bind(\n                null,\n                this.props.incomingCall\n              )}\n            >\n              <DialRed></DialRed>\n            </BtnDialRed>\n            <BtnDialGreen\n              theme={this.theme}\n              key=\"GreenDial\"\n              onClick={this.acceptIncomingCall.bind(\n                null,\n                this.props.incomingCall\n              )}\n            >\n              <DialGreen></DialGreen>\n            </BtnDialGreen>\n          </IncomingDials>\n        </Canvas>\n      );\n    } else {\n      return (\n        <Canvas>\n          <Display\n            value={this.props.callDisplay}\n            onKeyDown={this.handleKeyDown}\n            onKeyUp={this.handleKeyUp}\n            onChange={this.handleChange}\n            onFocus={this.moveCaretToEnd}\n            onClick={this.moveCaretToEnd}\n            onBlur={this.focusDisplay}\n            ref={this.numberInputRef}\n          />\n          <Timer time={this.showTime(this.state.elapsedTime)} />\n          <CallDialpad\n            dialPressed={this.dialPressed}\n            dialActive={this.state.dialActive}\n            theme={this.theme}\n            callActive={this.props.client.activeConnection() !== undefined}\n            muted={this.state.isMuted}\n          />\n        </Canvas>\n      );\n    }\n  }\n}\n\nconst TimerDisplay = styled.div`\n  font-size: 4vmin;\n  height: 4vmin;\n  padding: 2vmin;\n  @media (min-width: 400px) {\n    font-size: 16px;\n    height: 16px;\n    padding: 8px;\n  }\n`;\n\nfunction Timer(props) {\n  return <TimerDisplay>{props.time}</TimerDisplay>;\n}\n\nconst Canvas = styled.div`\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  align-items: center;\n  height: 100vh;\n  width 100%;\n  position: relative;\n  overflow-x: hidden;\n\n  padding-left: 12px;\n  padding-right: 12px;\n`;\n\nconst Display = styled.input`\n  outline: none;\n  margin-top: 10vmin;\n  border-radius: 10px;\n  height: 10vmin;\n  width: 66vmin;\n  font-size: 8vmin;\n  text-align: center;\n  padding: 0.5vmin 3vmin 0.5vmin 3vmin;\n  @media (min-width: 400px) {\n    margin-top: 40px;\n    height: 40px;\n    width: 264px;\n    font-size: 32px;\n    padding: 2px 12px 2px 12px;\n  }\n  border: 0;\n  background: #e8e8e8;\n  color: transparent;\n  text-shadow: 0 0 0 #222222;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Label1 = styled.div`\n  outline: none;\n  margin-top: 10vmin;\n  border-radius: 10px;\n  height: 6vmin;\n  width: 66vmin;\n  font-size: 4vmin;\n  text-align: center;\n  padding: 20vmin 3vmin 0.5vmin 3vmin;\n  @media (min-width: 400px) {\n    margin-top: 40px;\n    height: 24px;\n    width: 264px;\n    font-size: 16px;\n    padding: 80px 12px 2px 12px;\n  }\n  border: 0;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Label2 = styled.div`\n  outline: none;\n  height: 10vmin;\n  width: 66vmin;\n  font-size: 8vmin;\n  text-align: center;\n  padding: 1vmin 3vmin 0.5vmin 3vmin;\n  @media (min-width: 400px) {\n    height: 40px;\n    width: 264px;\n    font-size: 32px;\n    padding: 4px 12px 2px 12px;\n  }\n  border: 0;\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst IncomingDials = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  position: relative;\n  width: 80vmin;\n  margin-top: 83vmin;\n  justify-items: center;\n  @media (min-width: 400px) {\n    width: 320px;\n    margin-top: 332px;\n  }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport MsgCanvas from './MsgCanvas';\nimport CallCanvas from './CallCanvas';\n\nfunction ChannelContent(props) {\n  if (props.selectedChannel === 'sms') {\n    return (\n      <MsgCanvas\n        client={props.client}\n        channelList={props.channelList}\n        secret={props.secret}\n        msgUnreadsCache={props.msgUnreadsCache}\n        setUnreadMsgs={props.setUnreadMsgs}\n        setUnreadsCache={props.setUnreadsCache}\n        msgCache={props.msgCache}\n        msgPgtrCache={props.msgPgtrCache}\n        addMsgCachePage={props.addMsgCachePage}\n        setMsgCachePage={props.setMsgCachePage}\n        addMsgCacheMsg={props.addMsgCacheMsg}\n      />\n    );\n  } else if (props.selectedChannel === 'call') {\n    return (\n      <CallCanvas\n        client={props.client}\n        incomingCall={props.incomingCall}\n        setCallDisplay={props.setCallDisplay}\n        callDisplay={props.callDisplay}\n        setCallConnection={props.setCallConnection}\n        getCallConnection={props.getCallConnection}\n        setCallStartTime={props.setCallStartTime}\n        getCallStartTime={props.getCallStartTime}\n        setCallNextKeyReset={props.setCallNextKeyReset}\n        getCallNextKeyReset={props.getCallNextKeyReset}\n        setCallTypingPN={props.setCallTypingPN}\n        getCallTypingPN={props.getCallTypingPN}\n      />\n    );\n  } else {\n    return <AltCanvas>Channel not supported</AltCanvas>;\n  }\n}\n\nconst AltCanvas = styled.div`\n  flex-grow: 1;\n  height: 100vh;\n`;\n\nexport default ChannelContent;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { FullScreen } from './CommonComponents';\nimport chroma from 'chroma-js';\nconst accent = process.env.REACT_APP_ACCENT_COLOR;\nconst accent_light = chroma(process.env.REACT_APP_ACCENT_COLOR)\n  .brighten()\n  .hex();\n\nexport default class AuthForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { remember: false, secret: '' };\n  }\n\n  handleCheckboxChange = (event) => {\n    const value = event.target.checked;\n    this.setState({\n      remember: value\n    });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const secret = this.state.secret;\n    this.props.setSecret(secret);\n    if (this.state.remember) {\n      localStorage.setItem('secret', secret);\n    }\n  };\n\n  updateSecret = (event) => {\n    this.setState({\n      secret: event.target.value\n    });\n  };\n\n  render() {\n    return (\n      <FullScreen>\n        <form>\n          <Label>\n            <h1>Communication Client</h1>\n            <h5>INFO PAST THIS PAGE IS CONFIDENTIAL</h5>\n            <br></br>\n            <p>Enter the pin:</p>\n            <p>\n              <input\n                type=\"text\"\n                name=\"action\"\n                defaultValue=\"login\"\n                autoComplete=\"off\"\n                style={{ display: 'none' }}\n              />\n              <Password\n                type=\"password\"\n                name=\"secret\"\n                autoComplete=\"current-password\"\n                value={this.state.secret}\n                onChange={this.updateSecret}\n              />\n              {this.props.errMsg && (\n                <LabelError>({this.props.errMsg})</LabelError>\n              )}\n            </p>\n            <p>\n              <BtnSubmit onClick={this.handleSubmit}>\n                <Unlock />\n              </BtnSubmit>\n            </p>\n          </Label>\n          <LabelSmall>\n            <Checkbox\n              name=\"remember\"\n              type=\"checkbox\"\n              checked={this.state.remember}\n              onChange={this.handleCheckboxChange}\n            />\n            Remember on this device\n          </LabelSmall>\n        </form>\n      </FullScreen>\n    );\n  }\n}\n\nconst SvgUnlock = (props) => (\n  <svg\n    viewBox=\"0 0 200 200\"\n    fillRule=\"evenodd\"\n    clipRule=\"evenodd\"\n    strokeLinejoin=\"round\"\n    strokeMiterlimit={2}\n    {...props}\n  >\n    <path\n      d=\"M162.5 100c6.9 0 12.5 5.6 12.5 12.5v75c0 6.9-5.6 12.5-12.5 12.5h-125c-6.9 0-12.5-5.6-12.5-12.5v-75c0-6.9 5.6-12.5 12.5-12.5h4.167V58.333C41.667 26.175 67.842 0 100 0s58.333 26.175 58.333 58.333c0 4.559-3.775 8.334-8.333 8.334h-8.333c-4.559 0-8.334-3.775-8.334-8.334C133.333 39.975 118.358 25 100 25c-18.358 0-33.333 14.975-33.333 33.333V100H162.5z\"\n      fill=\"currentColor\"\n      fillRule=\"nonzero\"\n    />\n  </svg>\n);\n\nconst Unlock = styled(SvgUnlock)`\n  height: 6vmin;\n  width: 6vmin;\n  @media (min-width: 400px) {\n    height: 24px;\n    width: 24px;\n  }\n`;\n\nconst Password = styled.input`\n  outline: none;\n  height: 10vmin;\n  width: 100vw;\n  font-size: 5vmin;\n  text-align: center;\n  color: #565b73;\n  padding: 0.5vmin 3vmin 0.5vmin 3vmin;\n  @media (min-width: 400px) {\n    height: 40px;\n    width: 400px;\n    font-size: 20px;\n    padding: 2px 12px 2px 12px;\n  }\n  border: 0;\n  background: rgb(236, 237, 241);\n`;\n\nconst BtnSubmit = styled.button`\n  height: 12vmin;\n  width: 12vmin;\n  color: #565b73;\n  padding: 0;\n  border-width: initial;\n  border-style: none;\n  border-color: initial;\n  border-image: initial;\n  outline: none;\n  border-radius: 50px;\n  background: rgb(236, 237, 241);\n  cursor: pointer;\n  @media (min-width: 400px) {\n    height: 48px;\n    width: 48px;\n  }\n  &:hover {\n    background: ${accent};\n    color: #ffffff;\n  }\n`;\n\nconst Label = styled.label`\n  color: #565b73;\n  font-size: 5vmin;\n  @media (min-width: 400px) {\n    font-size: 20px;\n  }\n`;\n\nconst LabelSmall = styled(Label)`\n  font-size: 4vmin;\n  @media (min-width: 400px) {\n    font-size: 16px;\n  }\n`;\n\nconst LabelError = styled(LabelSmall)`\n  color: ${process.env.REACT_APP_ACCENT_COLOR};\n`;\n\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\n  // Hide checkbox visually but remain accessible to screen readers.\n  // Source: https://polished.js.org/docs/#hidevisually\n  border: 0;\n  clip: rect(0 0 0 0);\n  clippath: inset(50%);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n`;\n\nconst Icon = styled.svg`\n  fill: none;\n  stroke: white;\n  stroke-width: 4px;\n`;\n\nconst StyledCheckbox = styled.div`\n  display: inline-block;\n  width: 4vmin;\n  height: 4vmin;\n  margin-right: 1.5vmin;\n  background: ${(props) => (props.checked ? accent : 'rgb(236, 237, 241)')};\n  border-radius: 3px;\n  transition: all 150ms;\n  @media (min-width: 400px) {\n    width: 16px;\n    height: 16px;\n    margin-right: 6px;\n  }\n  ${HiddenCheckbox}:focus + & {\n    box-shadow: 0 0 0 2px ${accent_light};\n  }\n  ${Icon} {\n    visibility: ${(props) => (props.checked ? 'visible' : 'hidden')};\n  }\n`;\n\nconst CheckboxContainer = styled.div`\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nconst Checkbox = ({ checked, ...props }) => (\n  <CheckboxContainer>\n    <HiddenCheckbox checked={checked} {...props} />\n    <StyledCheckbox checked={checked}>\n      <Icon viewBox=\"0 0 24 24\">\n        <polyline points=\"20 6 9 17 4 12\" />\n      </Icon>\n    </StyledCheckbox>\n  </CheckboxContainer>\n);\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport update from 'immutability-helper';\nimport jwt_decode from 'jwt-decode';\nimport { formParams, stringify } from '../lib/common';\n\nimport ChannelSwitcher from './ChannelSwitcher';\nimport ChannelContent from './ChannelContent';\nimport AuthForm from './AuthForm';\nimport { ModalMessage } from './CommonComponents';\n\nconst TwilioChat = require('twilio-chat');\nconst TwilioVoice = require('twilio-client');\n\nconst maxAuthAttempts = 3;\n\nexport default class Canvas extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedChannel: 'sms',\n      chatClient: null,\n      chatChannelList: null,\n      voiceClient: null,\n      incomingCall: null,\n      token: null,\n      authorized: false,\n      authCounter: 0,\n      authError: '',\n      secret: localStorage.getItem('secret'),\n      displayError: null,\n      msgUnreadsCache: {},\n      msgCache: {},\n      msgPgtrCache: {},\n      callDisplay: '' // phone number after formatting\n    };\n\n    this.callConnection = null;\n    this.callStartTime = null;\n    this.callNextKeyReset = false;\n    // is user typing a phone number (i.e. no call in progress) or\n    // are they using DTMF during a call?\n    this.callTypingPN = true;\n  }\n\n  /**\n   * Fetch token from the <tt>getAccessToken</tt> function.\n   * @returns {string}\n   */\n  _fetchToken = () => {\n    return new Promise((resolve, reject) => {\n      const accessTokenGenerator =\n        (process.env.REACT_APP_RUNTIME_DOMAIN\n          ? process.env.REACT_APP_RUNTIME_DOMAIN\n          : '') + '/getAccessToken';\n\n      const body = formParams({\n        secret: this.state.secret // handle escaping\n      });\n      fetch(accessTokenGenerator, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body\n      })\n        .then(async (response) => {\n          if (response.status === 200) {\n            return response.text();\n          } else if (response.status === 401) {\n            const errText = await response.text();\n            this.setState({\n              authorized: false,\n              authError: this.state.authCounter === 0 ? '' : errText,\n              authCounter: this.state.authCounter + 1\n            });\n            console.error(\n              'Authorization failed - check if SECRET env variable is set correctly:',\n              errText\n            );\n            reject(errText);\n          }\n        })\n        .then((token) => {\n          if (token !== undefined) {\n            this.setState({\n              authorized: true,\n              authError: '',\n              authCounter: 0\n            });\n            resolve(token);\n          }\n        })\n        .catch((err) => {\n          console.error('Error fetching Access Token:', err);\n          this.setState({\n            displayError: `Error fetching Access Token (${stringify(err)})`\n          });\n          reject(err);\n        });\n    });\n  };\n\n  /**\n   * Setters & getters for properties that don't have to be part of the state,\n   * but need to be accessed by child components and need their values to\n   * survive unmounting of the consuming component\n   */\n\n  setSecret = (secret) => {\n    this.setState({ secret }, () => this.initClients());\n  };\n  setCallDisplay = (callDisplay) => {\n    this.setState({ callDisplay });\n  };\n  setCallConnection = (callConnection) => {\n    this.callConnection = callConnection;\n  };\n  getCallConnection = () => {\n    return this.callConnection;\n  };\n  setCallStartTime = (callStartTime) => {\n    this.callStartTime = callStartTime;\n  };\n  getCallStartTime = () => {\n    return this.callStartTime;\n  };\n  setCallNextKeyReset = (callNextKeyReset) => {\n    this.callNextKeyReset = callNextKeyReset;\n  };\n  getCallNextKeyReset = () => {\n    return this.callNextKeyReset;\n  };\n  setCallTypingPN = (callTypingPN) => {\n    this.callTypingPN = callTypingPN;\n  };\n  getCallTypingPN = () => {\n    return this.callTypingPN;\n  };\n\n  /**\n   * msgUnreadsCache setter\n   * @param {*} contact - the contact for which the cache should be updated\n   * @param {*} unread - new value\n   */\n  setUnreadsCache = (contact, unread) => {\n    this.setState({\n      msgUnreadsCache: update(this.state.msgUnreadsCache, {\n        [contact]: { $set: unread }\n      })\n    });\n  };\n\n  setUnreadMsgs = (channel, contact) => {\n    // if there's no consumed messages, all messages are unread\n    // (getUnconsumedMessagesCount doesn't really work in this case\n    // so we need to handle this edge case manually)\n    if (channel.lastConsumedMessageIndex === null) {\n      channel.getMessagesCount().then((cnt) => {\n        this.setState({\n          msgUnreadsCache: update(this.state.msgUnreadsCache, {\n            [contact]: { $set: cnt }\n          })\n        });\n      });\n    } else {\n      channel.getUnconsumedMessagesCount().then((cnt) => {\n        this.setState({\n          msgUnreadsCache: update(this.state.msgUnreadsCache, {\n            [contact]: { $set: cnt }\n          })\n        });\n      });\n    }\n  };\n\n  /**\n   * Initialize message cache for given contact\n   * @param {*} contact\n   * @param {*} messages\n   * @param {*} paginator\n   */\n  setMsgCachePage = (contact, messages, paginator) => {\n    this.setState({\n      msgCache: update(this.state.msgCache, {\n        [contact]: { $set: messages }\n      }),\n      pgtrCache: update(this.state.msgPgtrCache, {\n        [contact]: { $set: paginator }\n      })\n    });\n  };\n\n  /**\n   * Add new page worth of messages using paginator\n   * @param {*} contact\n   * @param {*} messages\n   * @param {*} paginator\n   */\n  addMsgCachePage = (contact, messages, paginator) => {\n    this.setState({\n      msgCache: update(this.state.msgCache, {\n        [contact]: { $unshift: messages }\n      }),\n      pgtrCache: update(this.state.msgPgtrCache, {\n        [contact]: { $set: paginator }\n      })\n    });\n  };\n\n  /**\n   * Add one new message to the cache\n   * @param {*} contact\n   * @param {*} msg\n   */\n  addMsgCacheMsg = (contact, msg) => {\n    if (this.state.msgCache[contact] === undefined) {\n      this.setState({\n        msgCache: update(this.state.msgCache, {\n          $merge: { [contact]: [] }\n        })\n      });\n    }\n    this.setState({\n      msgCache: update(this.state.msgCache, { [contact]: { $push: [msg] } })\n    });\n  };\n\n  /**\n   * Wrapper around _fetchToken that stores the token in component's state\n   * @returns {string}\n   */\n  getToken = () => {\n    return new Promise((resolve, reject) => {\n      if (this.state.token) {\n        const decoded_token = jwt_decode(this.state.token);\n        const s_now = Math.floor(Date.now() / 1000);\n        const s_expire = decoded_token.exp;\n        console.log(`Token is expiring in ${s_expire - s_now}s`);\n        if (s_expire - s_now < 300) {\n          // token is about to expire, let's renew it\n          this._fetchToken().then((token) => {\n            this.setState({ token });\n            this.getTokenActive = false;\n            resolve(token);\n          });\n        } else {\n          this.getTokenActive = false;\n          resolve(this.state.token);\n        }\n      } else {\n        this._fetchToken().then((token) => {\n          this.setState({ token });\n          this.getTokenActive = false;\n          resolve(token);\n        });\n      }\n    });\n  };\n\n  /**\n   * Initialize the Voice and Chat clients\n   * @returns {string}\n   */\n  initClients = () => {\n    if (this.state.chatClient === null && this.state.voiceClient === null) {\n      this.getToken().then((token) => {\n        // initialize Voice client\n        const voiceClient = new TwilioVoice.Device();\n        voiceClient.setup(token, {\n          // Set Opus as our preferred codec. Opus generally performs better,\n          // requiring less bandwidth and providing better audio quality in\n          // restrained network conditions. Opus will be default in 2.0.\n          codecPreferences: ['opus', 'pcmu'],\n          // Use fake DTMF tones client-side. Real tones are still sent to the\n          // other end of the call, but the client-side DTMF tones are fake.\n          // This prevents the local mic capturing the DTMF tone a second time\n          // and sending the tone twice. This will be default in 2.0.\n          fakeLocalDTMF: true,\n          // Use `enableRingingState` to enable the device to emit the `ringing`\n          // state. The TwiML backend also needs to have the attribute\n          // `answerOnBridge` also set to true in the `Dial` verb. This option\n          // changes the behavior of the SDK to consider a call `ringing`\n          // starting from the connection to the TwiML backend to when the\n          // recipient of the `Dial` verb answers.\n          enableRingingState: true\n        });\n        voiceClient.on('ready', (device) => {\n          console.log('voiceClient is ready');\n        });\n        voiceClient.on('error', (error) => {\n          console.log('Twilio.Device Error: ', error);\n          // JWT Token Expired\n          if (error.code === 31205) {\n            this.getToken().then(() => {\n              this.state.chatClient.updateToken(this.state.token);\n              this.state.voiceClient.updateToken(this.state.token);\n              console.log('Token updated after expiration (from voiceClient)');\n            });\n          }\n        });\n        voiceClient.on('incoming', (connection) => {\n          console.log(\n            'PC: INCOMING event fired from ' + connection.parameters.From\n          );\n          this.setState({ incomingCall: connection });\n          this.setCallConnection(connection);\n          connection.on('reject', (connection) => {\n            // when incoming call gets rejected from CallCanvas, update state\n            this.setState({\n              incomingCall: null\n            });\n          });\n        });\n        voiceClient.on('cancel', (connection) => {\n          console.log('PC: CANCEL event fired');\n          this.setState({\n            incomingCall: null\n          });\n        });\n\n        voiceClient.on('connect', (connection) => {\n          console.log('PC: CONNECT event fired');\n          this.setState({ incomingCall: null }); // cleanup the incoming call state and let the component handle this natively\n        });\n\n        voiceClient.on('disconnect', (connection) => {\n          console.log('PC: DISCONNECT event fired');\n          this.setCallDisplay('');\n          this.setCallStartTime(null);\n          this.setCallTypingPN(true);\n          this.setCallNextKeyReset(false);\n        });\n\n        console.log('voiceClient is initialized');\n        this.setState({ voiceClient });\n\n        // initialize Chat client\n        TwilioChat.Client.create(token).then((chatClient) => {\n          this.setState({ chatClient });\n          chatClient.getSubscribedChannels().then((paginator) => {\n            let chatChannelList = {};\n            for (let i = 0; i < paginator.items.length; i++) {\n              const channel = paginator.items[i];\n              chatChannelList[channel.uniqueName] = channel;\n            }\n            console.log('chatClient is initialized');\n\n            this.setState({ chatChannelList });\n          });\n          chatClient.on('channelRemoved', (channel) => {\n            if (this.state.chatChannelList !== null) {\n              this.setState({\n                chatChannelList: update(this.state.chatChannelList, {\n                  $unset: [channel.uniqueName]\n                }),\n                msgUnreadsCache: update(this.state.msgUnreadsCache, {\n                  $unset: [channel.uniqueName]\n                }),\n                msgCache: update(this.state.msgCache, {\n                  $unset: [channel.uniqueName]\n                }),\n                msgPgtrCache: update(this.state.msgPgtrCache, {\n                  $unset: [channel.uniqueName]\n                })\n              });\n            }\n          });\n          chatClient.on('channelAdded', (channel) => {\n            if (this.state.chatChannelList !== null) {\n              this.setState({\n                chatChannelList: update(this.state.chatChannelList, {\n                  $merge: { [channel.uniqueName]: channel }\n                }),\n                msgCache: update(this.state.msgCache, {\n                  [channel.uniqueName]: { $set: undefined }\n                })\n              });\n            }\n          });\n          chatClient.on('channelUpdated', ({ channel, updateReasons }) => {\n            if (\n              this.state.chatChannelList !== null &&\n              updateReasons.includes('lastMessage')\n            ) {\n              this.setState({\n                chatChannelList: update(this.state.chatChannelList, {\n                  [channel.uniqueName]: { $set: channel }\n                })\n              });\n            }\n          });\n          chatClient.on('tokenAboutToExpire', () => {\n            this.getToken().then(() => {\n              this.state.chatClient.updateToken(this.state.token);\n              this.state.voiceClient.updateToken(this.state.token);\n              console.log('Token updated before expiration');\n            });\n          });\n          chatClient.on('tokenExpired', () => {\n            this.getToken().then(() => {\n              this.state.chatClient.updateToken(this.state.token);\n              this.state.voiceClient.updateToken(this.state.token);\n              console.log('Token updated after expiration (from chatClient)');\n            });\n          });\n        });\n      });\n    }\n  };\n\n  setChannel = (selectedChannel) => {\n    this.setState({ selectedChannel });\n  };\n\n  componentDidMount() {\n    this.initClients();\n  }\n\n  componentDidUpdate() {}\n\n  componentWillUnmount() {\n    if (this.state.chatClient) {\n      this.state.chatClient.removeAllListeners('channelAdded');\n      this.state.chatClient.removeAllListeners('channelUpdated');\n    }\n    if (this.state.voiceClient) {\n      this.state.voiceClient.removeAllListeners('ready');\n      this.state.voiceClient.removeAllListeners('error');\n    }\n  }\n\n  render() {\n    if (this.state.displayError) {\n      return (\n        <ViewPort>\n          <ModalMessage\n            msg={'Error occurred: ' + this.state.displayError}\n            img=\"alert\"\n          />\n        </ViewPort>\n      );\n    } else if (\n      // if the initial login attempt hasn't bee made yet, don't show anything\n      // (to avoid UI redraws with login form flashing brieafly before client load)\n      this.state.authorized === false &&\n      this.state.authCounter === 0\n    ) {\n      return <ViewPort></ViewPort>;\n    } else if (\n      // if the initial login attempt failed, show a login form\n      this.state.authorized === false &&\n      this.state.authCounter <= maxAuthAttempts\n    ) {\n      return (\n        <ViewPort>\n          <AuthForm setSecret={this.setSecret} errMsg={this.state.authError} />\n        </ViewPort>\n      );\n    } else if (\n      // if the max number of attempts was exceeded, show error to discourage\n      // repeated logins\n      this.state.authorized === false &&\n      this.state.authCounter > maxAuthAttempts\n    ) {\n      return (\n        <ViewPort>\n          <ModalMessage msg=\"Authorization failed\" img=\"auth_fail\" />\n        </ViewPort>\n      );\n    } else {\n      return (\n        <React.StrictMode>\n          <ViewPort>\n            <ChannelSwitcher\n              setChannel={this.setChannel}\n              selectedChannel={this.state.selectedChannel}\n              incomingCall={this.state.incomingCall}\n              msgUnreadsCache={this.state.msgUnreadsCache}\n            />\n            <ChannelContent\n              msgUnreadsCache={this.state.msgUnreadsCache}\n              setUnreadsCache={this.setUnreadsCache}\n              setUnreadMsgs={this.setUnreadMsgs}\n              msgCache={this.state.msgCache}\n              msgPgtrCache={this.state.msgPgtrCache}\n              addMsgCachePage={this.addMsgCachePage}\n              setMsgCachePage={this.setMsgCachePage}\n              addMsgCacheMsg={this.addMsgCacheMsg}\n              setCallDisplay={this.setCallDisplay}\n              callDisplay={this.state.callDisplay}\n              setCallConnection={this.setCallConnection}\n              getCallConnection={this.getCallConnection}\n              setCallStartTime={this.setCallStartTime}\n              getCallStartTime={this.getCallStartTime}\n              setCallNextKeyReset={this.setCallNextKeyReset}\n              getCallNextKeyReset={this.getCallNextKeyReset}\n              setCallTypingPN={this.setCallTypingPN}\n              getCallTypingPN={this.getCallTypingPN}\n              selectedChannel={this.state.selectedChannel}\n              secret={this.state.secret}\n              client={\n                this.state.selectedChannel === 'sms'\n                  ? this.state.chatClient\n                  : this.state.voiceClient\n              }\n              channelList={\n                this.state.selectedChannel === 'sms'\n                  ? this.state.chatChannelList\n                  : null\n              }\n              incomingCall={this.state.incomingCall}\n            />\n          </ViewPort>\n        </React.StrictMode>\n      );\n    }\n  }\n}\n\nconst ViewPort = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  align-items: stretch;\n\n`;\n","import React from 'react';\nimport './App.css';\n\nimport PhoneClient from './components/PhoneClient';\n\nfunction App() {\n  return (\n    <PhoneClient />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}